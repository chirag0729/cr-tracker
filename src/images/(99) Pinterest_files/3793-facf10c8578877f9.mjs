(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[3793,39395],{850115:e=>{e.exports="https://s.pinimg.com/webapp/goodIdea-b770896d.svg"},379507:e=>{e.exports="https://s.pinimg.com/webapp/haha-e2800d2d.svg"},637956:e=>{e.exports="https://s.pinimg.com/webapp/love-c31e0b8d.svg"},909745:e=>{e.exports="https://s.pinimg.com/webapp/thanks-62775475.svg"},128206:e=>{e.exports="https://s.pinimg.com/webapp/wow-3cb697ef.svg"},554290:(e,i,t)=>{var n=t(406557);e.exports=function(e){return"function"==typeof e?e:n}},385564:(e,i,t)=>{var n=t(121078);e.exports=function(e){return(null==e?0:e.length)?n(e,1):[]}},498913:(e,i,t)=>{var n=t(422545),o=t(554290),a=t(640554),r=4294967295,s=Math.min;e.exports=function(e,i){if((e=a(e))<1||e>9007199254740991)return[];var t=r,l=s(e,r);i=o(i),e-=r;for(var d=n(l,i);++t<e;)i(t);return d}},778423:e=>{e.exports={ReasonToChoose:{REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,EMBEDDING_BASED_BEST_PINS:173,RECOMMENDED_TOPICS:65,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN_ENGAGEMENT:175,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,TOPIC_BEST_STORY_PINS:164,REC_SEQ_STORY_PIN_CLS:165,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,EXPLORATION_STORY_PINS:161,EXPLORATION_STORY_PINS_BASELINE:162,EXPLOITATION_STORY_PINS:163,ANNOTATION_REC_CREATOR_STORY_PINS:166,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS:167,IDEASTREAM_GRAPHSAGE_STORY_PINS:168,HF_EDUCATION_PIN_INSERTION:169,RP_EDUCATION_PIN_INSERTION:170,USER_TO_CREATOR_STORY_PINS:171,USER_TO_CREATOR_STORY_PINS_ENGAGEMENT:176,COENGAGEMENT_STORY_PINS:172,ANNOTATION_STORY_PINS:177,DISCOVER_STREAM_DEMOGRAPHIC_FALLBACK:178,DISCOVER_STREAM_CELEBRITY:179,GRAPHSAGE_SHOPIFY_VMP_PRODUCT_PINS:180,CREATOR_BEST_IDEA_PINS:181,INTEREST_BEST_IDEA_PINS:182,NAVBOOST_STORY_PINS:183,SHOPPING_DISTRIBUTION_PINS:185,WATCH_TAB_EHQ_STORIES:186,NOTIF_LEARNED_RETRIEVAL:187,LANDING_PAGE_PIN_RECOMMENDATIONS:188,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61,GRAPHSAGE_SHOPIFY_VMP_MERCHANT_ACTIVATION_PRODUCT_PINS:174,FOLLOWED_INTEREST_SEO_BESPIN_EXPORATION:184},ThroughObjectType:{PIN_ID:1,IMAGE_SIGNATURE:2,BOARD_ID:3,INTEREST_ID:4,SEARCH_QUERY:5,CREATOR_ID:6,ANNOTATION_ID:7,NEARDUP_SIGNATURE:8}}},574589:(e,i,t)=>{function n(e){return Boolean(e.promoted_is_removable)}t.d(i,{Z:()=>n})},974166:(e,i,t)=>{t.d(i,{A6:()=>d,BS:()=>s,EC:()=>a,FC:()=>n,_5:()=>l,m9:()=>r,z9:()=>o});const n=424,o=800,a=508,r=424,s=278,l=640,d=508},946244:(e,i,t)=>{t.d(i,{Z:()=>c});var n=t(667294),o=t(966338),a=t(49491),r=t(898781),s=t(6637);var l=t(883119),d=t(785893);function c({favorited:e,favoriteCount:i,isCloseupButton:t,onFavorite:c,onUnfavorite:u,pinId:_,size:p}){const h=(0,r.ZP)(),m=(0,o.useDispatch)(),[f,g]=(0,n.useState)(!1),[v,y]=(0,n.useState)(e),[P,b]=(0,n.useState)(null!=i?i:0),x=async()=>{var e;y(!v),g(!0),v?(b(P-1),await m((e=_,async i=>{await s.ZP.create("ApiResource",{url:`/v3/pins/${e}/favorite/`}).callDelete(),i(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:-1,value:!1}}}(e))})),u(),g(!1)):(b(P+1),await m(function(e){return async i=>{await s.ZP.create("ApiResource",{url:`/v3/pins/${e}/favorite/`}).callCreate(),i(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:1,value:!0}}}(e))}}(_)),c(),g(!1))},S=P<10?P:h._('9+', 'favoriteButton.favoriteCountText', 'Text shown when greater than 9 favorites on Pin');return(0,d.jsxs)(l.kC,{alignItems:"center",gap:1,children:[void 0!==i&&P>0&&(0,d.jsx)(l.xv,{size:"200",weight:"bold",children:S}),(0,d.jsx)(a.Z,{isCloseupButton:t,isDisabled:f,isFavorited:v,onTap:()=>{x()},size:p})]})}},49491:(e,i,t)=>{t.d(i,{W:()=>s,Z:()=>l});var n=t(898781),o=t(883119),a=t(785893);const r={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1zm3.9 5.15l-1.75-3.53a.4.4 0 00-.71 0L10.2 8.26a2 2 0 01-1.5 1.1l-3.9.56a.4.4 0 00-.23.69l2.83 2.75a2 2 0 01.57 1.77L7.31 19a.4.4 0 00.58.42l3.5-1.83a2 2 0 011.86 0l3.48 1.83a.4.4 0 00.59-.42l-.67-3.88a2 2 0 01.57-1.77l2.83-2.75a.4.4 0 00-.22-.69l-3.9-.56a2 2 0 01-1.51-1.1z"},s={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1z"};function l({isCloseupButton:e,isDisabled:i,isFavorited:t,onTap:l,size:d}){const c=(0,n.ZP)();return e?(0,a.jsx)(o.hU,{accessibilityLabel:c._('Favorite icon', 'pinRep.footer.favoriteIcon', 'Accessible label for favorite icon on Pin'),dangerouslySetSvgPath:t?s:r,disabled:i,iconColor:"darkGray",onClick:l,size:"lg"}):(0,a.jsx)(o.iP,{disabled:i,onTap:l,children:(0,a.jsx)(o.JO,{accessibilityLabel:c._('Favorite icon', 'pinRep.footer.favoriteIcon', 'Accessible label for favorite icon on Pin'),color:"default",dangerouslySetSvgPath:t?s:r,size:d})})}},978698:(e,i,t)=>{function n(e){const i=e.split("/");return[i[2],i[1]]}function o(e,i){return!e||!e.some((e=>e.pin_type===i))}t.d(i,{E:()=>o,J:()=>n})},578722:(e,i,t)=>{t.d(i,{H1:()=>d,HW:()=>a,iL:()=>l,pN:()=>s,s_:()=>r});var n=t(19121),o=t(217468);const a=new Date(2022,1,1);function r(){const e=["enabled_public","employees"].includes((0,o.t)("web_ip_plays")({dangerouslySkipActivation:!0}).group),i=(0,o.t)("web_ip_pinner_plays")({dangerouslySkipActivation:!0}).anyEnabled,t=(0,o.t)("android_ios_web_ip_plays_dark_reads")().anyEnabled;return e||i||t}function s({isOwnPin:e,isStoryPin:i,pinCreationDate:t,surface:r}){const s=(0,n.Z)(),l=(0,o.t)("web_play_playtime_pin_stats")({dangerouslySkipActivation:!0}).anyEnabled,d="CreatorProfileStoryPinGrid"===r&&i&&t&&t.getTime()>=a.getTime()&&l&&s.isPartner&&e,c=(0,o.a)("web_ip_plays",!!d).anyEnabled,u=["enabled_public","employees"].includes((0,o.t)("web_ip_plays")({dangerouslySkipActivation:!0}).group),_=(0,o.t)("web_ip_pinner_plays");if("CreatorProfileStoryPinGrid"===r&&i&&t&&t.getTime()>=a.getTime()){if(s.isPartner)return e&&c||!e&&u;if(_().anyEnabled)return!0}return!1}function l({isOwnPin:e,isPartner:i}){const t=["enabled_public","employees"].includes((0,o.t)("web_ip_plays")({dangerouslySkipActivation:!0}).group),n=(0,o.t)("web_ip_pinner_plays")({dangerouslySkipActivation:!0}).anyEnabled;return!(e||!(n&&!i||t&&i))}function d({isOwnPin:e,isPartner:i}){const t=(0,o.t)("web_ip_plays")({dangerouslySkipActivation:!0}).anyEnabled,n=(0,o.t)("web_ip_pinner_plays")({dangerouslySkipActivation:!0}).anyEnabled;return!(!e||!(t&&i||n&&!i))}},483296:(e,i,t)=>{t.d(i,{G7:()=>h,ZP:()=>_,_E:()=>p,l6:()=>m,rh:()=>u});var n=t(27255),o=t(605028),a=t(66699),r=t(349700),s=t(558329),l=t(883119),d=t(785893);const c=e=>["employees","enabled"].includes(e.v2ActivateExperiment("px_show_protected_pin_stats_on_closeup"));function u(e,i,t,a){var r,l,d;if(!i.isAuth)return!1;const u=(0,s.Nc)(e)||(0,s.o)(e),_=(null===(r=e.board)||void 0===r?void 0:r.privacy)===n.Z.BoardPrivacy.PUBLIC,p=(null===(l=e.board)||void 0===l?void 0:l.privacy)===n.Z.BoardPrivacy.PROTECTED,h=(c(t)&&p||_)&&!e.is_repin&&[i.id,a].includes(null===(d=e.pinner)||void 0===d?void 0:d.id),{isStoryPin:m}=(0,o.Z)(e);return u&&(!p||c(t))||i.isPartner&&h||(e=>["employees","enabled"].includes(e.v2ActivateExperiment("web_ps4p")))(t)&&m&&h||(0,s.pU)(e)}function _({isVideo:e,isStoryPin:i,i18n:t,showPublicPinStats:n,showPrivateFullScreenPinStats:o}){return e?[{align:"start",displayText:t._('Video views', 'pinRep.pinStats.videoViews', 'Label for views of a video pin on pinrep'),field:"video_views",iconType:"play"},{align:"center",displayText:t._('Avg. time', 'pinRep.pinStats.videoAverageTime', 'Label for average time of a video pin on pinrep'),field:"video_average_time",iconType:"clock",valueFormat:"TIME"},{align:"end",displayText:t._('Saves', 'pinRep.pinStats.save', 'Label for saves of a video pin on pinrep'),field:"save",iconType:"angled-pin"}]:i?n?[{align:"start",displayText:t._('Full screen plays', 'pinRep.pinStats.fullScreenPlays', 'Label for how many times the Idea Pin has been played full screen'),field:"full_screen_play",iconType:"play"}]:o?[{align:"start",displayText:t._('Full screen plays', 'pinRep.pinStats.fullScreenPlays', 'Label for how many times the Idea Pin has been played full screen'),field:"full_screen_play",iconType:"play"},{align:"center",displayText:t._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"end",displayText:t._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:t._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:t._('Closeups', 'pinRep.pinStats.closeups', 'Label for closeups of a pin on pinrep'),field:"closeup",iconSize:10,iconType:"hand-pointing"},{align:"end",displayText:t._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:t._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:t._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"},{align:"end",displayText:t._('Link clicks', 'pinRep.pinStats.clickthrough', 'Label for click-throughs of a pin on pinrep'),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}]}function p(e,i,t,n){const{isStoryPin:a,isVideo:c}=(0,o.Z)(e),u=(0,s.Nc)(e),_=(0,s.o)(e)&&(a||!u)?e.creator_analytics:e.aggregated_pin_data.creator_analytics,p=new Date(e.created_at),h=(new Date).getTime()-p.getTime(),m=Math.floor(h/36e5),f=_?_["24h_realtime"].is_realtime:null,g=_?_["24h_realtime"].timestamp:null;let v=null;_&&(v=a||c?_.all_time_realtime.timestamp:_["30d_realtime"].timestamp);const y=v!==g,P=e=>(0,r.nk)(t._('Updated {{ lastUpdated }}', 'closeup.partnerModule.lastUpdated', 'Indicates to the user when the stats were last updated'),{lastUpdated:e}).join(""),b={timeframe:"",lastUpdated:""};if(_)if(f){const e=_["24h_realtime"].impression>=(a||c?_.all_time_realtime.impression:_["30d_realtime"].impression);b.timeframe=e?t._('Last 24 hours', 'closeup.partnerModule.lastUpdatedRealtime', 'Stats from the stated duration'):a||c?t._('Lifetime of pin', 'closeup.partnerModule.lastUpdatedAllTime', 'Stats from stated duration'):t._('Last 30 days', 'closeup.partnerModule.lastUpdated30Days', 'Stats from stated duration'),b.lastUpdated=t._('Real-time estimates', 'closeup.partnerModule.lastUpdatedRealtime', 'Indicates to user that the stats are being updated in real-time')}else if(y||m>48)if(a||c){const e=n(_.all_time_realtime.timestamp);b.timeframe=t._('Lifetime of pin', 'closeup.partnerModule.lastUpdatedAllTime', 'Stats from stated duration'),b.lastUpdated=P(e)}else{const e=n(_["30d_realtime"].timestamp);b.timeframe=t._('Last 30 days', 'closeup.partnerModule.lastUpdated30Days', 'Stats from stated duration'),b.lastUpdated=P(e)}else{const e=n(_["24h_realtime"].timestamp);b.timeframe=t._('Last 24 hours', 'closeup.partnerModule.lastUpdatedHoursAgo', 'Stats from the stated duration'),b.lastUpdated=P(e)}else b.lastUpdated=t._('Stats are currently unavailable', 'closeup.partnerModule.statsUnavailable', 'Stats status for the pin');return(0,d.jsxs)(l.xu,{alignItems:a||"lg"!==i?"center":void 0,display:a||"lg"!==i?"flex":void 0,children:[(0,d.jsx)(l.xv,{align:"end",color:"subtle",size:"100",children:b.lastUpdated}),(a||["md","sm"].includes(i))&&!!_&&(0,d.jsx)(l.xv,{color:"subtle",inline:!0,size:"100",children:" ・"}),(0,d.jsx)(l.xv,{align:"end",color:"subtle",size:"100",children:b.timeframe})]})}function h(e,i){return(0,a.Z)(i.ngettext('Last {{ count }} Day', 'Last {{ count }} Days', e, 'Previous {{ count }} days from current date', 'Previous {{ count }} days from current date'),{count:e})}function m(e,i){return(0,a.Z)(i.ngettext('Last {{ count }} Hour', 'Last {{ count }} Hours', e, 'analytics.utils', 'Previous {{ count }} hours from current time'),{count:e})}},187767:(e,i,t)=>{t.d(i,{Z:()=>s});var n=t(605707),o=t(883119),a=t(785893);const r={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}};function s({pin:e,enableCloseupLink:i}){const{aggregated_pin_data:t}=e,{pin_tags_chips:s}=t||{},l=s&&s.length>=3?s.slice(0,3):[];return(0,a.jsx)(o.xu,{display:"flex",dangerouslySetInlineStyle:{__style:r.chipContainer},children:l.map((t=>{var s,l,d,c;const u=(null===(s=t.images)||void 0===s?void 0:s["750x"])||{},_=(0,a.jsx)(o.Ee,{alt:"",fit:"cover",naturalHeight:null!==(l=u.height)&&void 0!==l?l:1,naturalWidth:null!==(d=u.width)&&void 0!==d?d:1,role:"presentation",src:null!==(c=u.url)&&void 0!==c?c:""});return(0,a.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:r.chip},"data-test-id":"collageChip",children:(0,a.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:r.chipInner},position:"relative",children:(0,a.jsx)(o.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,a.jsx)(o.zd,{height:"100%",wash:!0,width:"100%",children:i?(0,a.jsx)(n.Z,{sizing:"fullSize",collageChipId:t.id,pin:e,children:_}):_})})})},t.id)}))})}},955362:(e,i,t)=>{t.r(i),t.d(i,{default:()=>g});var n=t(667294),o=t(966338),a=t(205202),r=t(248975),s=t(959275),l=t(883561),d=t(898781),c=t(542563),u=t(22245),_=t(623568),p=t(844949),h=t(946595),m=t(883119),f=t(785893);function g({feedbackData:e,feedbackType:i,pin:t,pinTitle:g,setForcePrimary:v,transparentBackground:y}){var P,b;const x=(0,d.ZP)(),S=(0,o.useDispatch)(),{viewParameter:T,viewType:w}=(0,h.E)(),{reportPin:I}=(0,p.f)(),[A,E]=(0,n.useState)(!1),[R,C]=(0,n.useState)(),{ad_match_reason:O,show_ad_reasons:k,board:j,category:N,description:D,id:B="",images:z,is_promoted:L,pinner:Z,promoter:M,recommendation_reason:G,source_interest:U,videos:F}=t;var V;const H=(V=L?60:50,function(e){return(0,l.ZP)((e||"").trim(),V)})(null!=D?D:""),W=(0,a.Z)(z,"236x"),Y=(0,_.iR)(F),X=(0,c.Z)(101,{component:0,element:981,object_id_str:B,aux_data:{feedback_type:i}}),$=()=>{k||(v(!1),S((0,u.i0)(B)),E(!1))};return(0,f.jsxs)(n.Fragment,{children:[(0,f.jsx)(m.xu,{"data-test-id":"feedback-button",ref:C,children:(0,f.jsx)(m.hU,{accessibilityLabel:x._('More information', 'accessibility label for overflow menu button', 'accessibility label for overflow menu button'),bgColor:y?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",onClick:()=>{A?$():(v(!0),E(!0)),X()},size:"sm"})}),A&&(0,f.jsx)(m.xu,{onFocus:e=>e.stopPropagation(),children:(0,f.jsx)(s.Z,{anchor:R,ad_match_reason:O,bestPinImgSrc:(0,r.Z)({images:t.images,embedSrc:null===(P=t.embed)||void 0===P?void 0:P.src,embedType:null===(b=t.embed)||void 0===b?void 0:b.type}),board:j,feedbackData:e,feedbackType:i,hideDownload:Y,isPromoted:L,onLinkClick:()=>{A&&$()},onDismiss:$,onHide:$,onDownloadHideFlyout:()=>{v(!1),E(!1)},pinCategory:N,pinDescription:H,pinId:B,pinImgSrc:W,pinner:Z,pinTitle:g,promoter:M,recommendationReason:G,reportPin:()=>I(t,T,w),sourceInterest:U,viewParameter:T,viewType:w})})]})}},959275:(e,i,t)=>{t.d(i,{Z:()=>L});var n=t(667294),o=t(966338),a=t(941646),r=t(883119),s=t(785893);function l({iconAccessibilityLabel:e,icon:i,linkAccessibilityLabel:t,showNavigationIcon:n,text:o}){return(0,s.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,s.jsx)(a.Z,{id:"ad-reason-icon",children:(0,s.jsx)(r.Sj,{accessibilityLabel:e,bgColor:"lightGray",icon:i,iconColor:"darkGray"})}),(0,s.jsx)(r.xu,{alignSelf:"center","data-test-id":"ad-location-targeting-reason",height:"100%",marginStart:2,children:(0,s.jsx)(r.xv,{children:o})}),n&&t&&(0,s.jsx)(r.kC,{direction:"column",justifyContent:"center",children:(0,s.jsx)(r.JO,{accessibilityLabel:t,color:"default",icon:"arrow-forward"})})]})}var d=t(121151),c=t(966113),u=t(898781),_=t(349700),p=t(407043);const{ACCOUNT_SETTINGS:h,CANONICAL_MAIN_URL:m,HELP_BLOCKING:f,HELP_PROMOTED_PINS_URL:g}=c.Z.settings;function v({onDismiss:e,brandName:i,country:t,language:n,isAgeMatched:o,isBehaviorTargetingMatched:c,isCustomerListMatched:v,isGeoPostalCodeMatched:y,isGeoRegionMatched:P,isShoppingTargetingRematched:b}){const{logContextEvent:x}=(0,p.v)(),S=(0,u.ZP)(),T=y||P||o||c||b||v;return(0,s.jsx)(d.ZP,{accessibilityModalLabel:S._('Why am I seeing this Ad?', 'app.common.react.components.PinRep.components.AdReasonsModal', 'Modal for explaining the reasons an advertiser is targeting a user'),onDismiss:e,children:(0,s.jsxs)(r.xu,{paddingX:8,paddingY:6,children:[(0,s.jsxs)(r.xu,{display:"flex",justifyContent:"center",marginBottom:6,position:"relative",children:[(0,s.jsx)(r.xu,{position:"absolute",left:!0,children:(0,s.jsx)(r.hU,{accessibilityLabel:S._('Close', 'app.common.react.components.PinRep.components.AdReasonsModal.closeModal', 'Close ad reasons modal'),icon:"cancel",iconColor:"darkGray",onClick:e,size:"sm"})}),(0,s.jsx)(r.X6,{align:"center",size:"500",children:S._('Why am I seeing this ad?', 'Heading for promoted Pins explanation', 'Heading for promoted pins explanation')})]}),(0,s.jsxs)(r.xu,{children:[(0,s.jsxs)(r.kC,{direction:"column",gap:4,children:[(0,s.jsx)(r.xu,{children:(0,s.jsx)(r.xv,{children:(0,_.nk)(S._('{{ brandName }} wants to get their ads in front of people like you. {{ learnMoreLink }}', 'app.common.react.components.PinRep.components.AdReasonsModal.advertiserExplanation', 'text informing the user about who is the advertiser'),{brandName:(0,s.jsx)(r.xv,{inline:!0,weight:"bold",children:i},"ad-reasons-brand-name"),learnMoreLink:(0,s.jsx)(a.Z,{id:"ad-reasons-learn-more-link",children:(0,s.jsx)(r.xv,{inline:!0,children:(0,s.jsx)(r.rU,{href:g,inline:!0,onClick:()=>{x({event_type:101,component:13756,element:12057})},target:"blank",underline:"hover",children:S._('Learn more', 'app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink', 'Learn more link for info about the reasons an ad is shown')})},"ad-reasons-learn-more-link")})})})}),T&&(0,s.jsx)(r.xu,{marginBottom:4,children:(0,s.jsx)(r.xv,{children:(0,_.nk)(S._('{{ brandName }} is trying to reach people who fit the following criteria:', 'app.common.react.components.PinRep.components.AdReasonsModal.audienceExplanation', 'text informing the user about who is the advertiser\'s target audience'),{brandName:(0,s.jsx)(r.xv,{inline:!0,weight:"bold",children:i},"ad-reasons-brand-name")})})})]}),(0,s.jsx)(a.Z,{id:"ad-reasons",children:(0,s.jsxs)(r.kC,{direction:"column",flex:"none",gap:4,children:[y||P?(0,s.jsx)(r.iP,{role:"link",href:`${m}${h}`,onTap:()=>{x({event_type:101,component:13756,element:12059})},target:"blank",children:(0,s.jsx)(l,{iconAccessibilityLabel:S._('Icon for ad targeting location', 'app.common.react.components.PinRep.components.AdReasons.locationIcon', 'Icon for ad targeting location'),icon:"location",linkAccessibilityLabel:S._('Navigate to account settings', 'app.common.react.components.PinRep.components.AdReasonRow.icon', 'An icon for navigating to account settings'),showNavigationIcon:!0,text:(0,_.nk)(S._('Your primary location is in {{countryName}} and your primary language is {{language}}', 'app.common.react.components.PinRep.components.AdReasonsModal.locationTargeting', 'Ad explanation for targeting location'),{countryName:(0,s.jsx)(r.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-country-name"),language:(0,s.jsx)(r.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-language")})})}):null,o&&(0,s.jsx)(l,{iconAccessibilityLabel:S._('Icon for ad targeting age', 'app.common.react.components.PinRep.components.AdReasons.ageIcon', 'Icon for ad targeting age'),icon:"person",text:(0,_.nk)(S._('{{ brandName }} is trying to reach people in your age range', 'app.common.react.components.PinRep.components.AdReasonsModal.ageTargeting', 'Ad explanation for targeting age range'),{brandName:(0,s.jsx)(r.xv,{inline:!0,weight:"bold",children:i},"ad-reasons-age-brand-name")})}),c&&(0,s.jsx)(l,{iconAccessibilityLabel:S._('Icon for ad targeting search history', 'app.common.react.components.PinRep.components.AdReasons.searchIcon', 'Icon for ad targeting search history'),icon:"search",text:S._('Your Pinterest browsing history and search behavior', 'app.common.react.components.PinRep.components.AdReasonsModal.searchTargeting', 'Ad explanation for targeting the search history of the user')}),b&&(0,s.jsx)(l,{iconAccessibilityLabel:S._('Icon for ad targeting customers who interacted with this brand previously', 'app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingIcon', 'Ad explanation for targeting users who have interacted with an advertiser brand'),icon:"clock",text:(0,_.nk)(S._('You\'ve interacted with {{brandName}} before', 'app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingText', 'Text explaining the ad reason for targeting users who interacted with brand previously'),{brandName:(0,s.jsx)(r.xv,{inline:!0,weight:"bold",children:i},"retargeting-ad-reason")})}),v&&(0,s.jsx)(l,{iconAccessibilityLabel:S._('Icon for ad targeting user on an audience list', 'app.common.react.components.PinRep.components.AdReasons.genderIcon', 'Icon for ad targeting gender'),icon:"menu",text:(0,_.nk)(S._('You\'re on an audience list provided by {{brandName}}', 'app.common.react.components.PinRep.components.AdReasonsModal.customerListTargeting', 'Ad explanation for targeting customer list'),{brandName:(0,s.jsx)(r.xv,{inline:!0,weight:"bold",children:i},"ad-reasons-customer-list")})}),T&&(0,s.jsx)(r.xu,{marginBottom:1,children:(0,s.jsx)(r.xv,{children:S._('There could also be more factors not listed here.', 'app.common.react.components.PinRep.components.AdReasonsModal.miscFactors', 'Text explaining there are more targeting factors')})})]})}),(0,s.jsxs)(r.kC,{direction:"column",gap:1,children:[(0,s.jsx)(r.xu,{marginBottom:3,marginTop:3,children:(0,s.jsx)(r.iz,{})}),(0,s.jsx)(r.xu,{marginBottom:1,marginTop:1,children:(0,s.jsx)(r.X6,{size:"400",children:S._('I don\'t want to see this ad', 'app.common.react.components.PinRep.components.AdReasonsModal.hideThisAdHeading', 'Text for explaining how to hide an ad')})}),(0,s.jsx)(r.xu,{marginBottom:4,children:(0,s.jsx)(r.xv,{children:(0,_.nk)(S._('If you don\'t want to see ads from a specific advertiser you can block the advertiser\'s Pinterest profile. {{learnMoreLink}}', 'app.common.react.components.PinRep.components.AdReasonsModal.blockAdvertiserText', 'Text explaining how to block an advertiser profile'),{learnMoreLink:(0,s.jsx)(r.xv,{inline:!0,children:(0,s.jsx)(r.rU,{inline:!0,href:f,onClick:()=>{x({event_type:101,component:13756,element:12058})},target:"blank",underline:"hover",children:S._('Learn more', 'app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink', 'Learn more link for info about the reasons an ad is shown')})},"ad-reasons-learn-more-link")})})})]})]})]})})}var y=t(784590),P=t(19121),b=t(802201),x=t(780280);function S({pinId:e,onDismiss:i}){var t,o,a,r;const{logContextEvent:l}=(0,p.v)(),{locale:d}=(0,x.B)(),{country:c=""}=(0,P.Z)(),u=(0,y.Z)({name:"CountriesResource",options:{hasEmptyState:!0}}),_=(0,y.Z)({name:"LocalesResource"}),h=(0,b.S6)()(e);(0,n.useEffect)((()=>{l({event_type:120,component:13756})}),[l]);const{ad_targeting_attribution:m,promoter:f}=null!=h?h:{},{is_age_matched:g=!1,is_behavior_targeting_matched:S=!1,is_customer_list_matched:T=!1,is_geo_postal_code_matched:w=!1,is_geo_region_matched:I=!1,is_shopping_retargeting_matched:A=!1}=null!==(t=function(e=null,i=4){return e&&Object.keys(e).filter((i=>"boolean"==typeof e[i])).slice(0,i).reduce(((i,t)=>({...i,[t]:e[t]})),{})}(m))&&void 0!==t?t:{},E=null!==(o=null==f?void 0:f.full_name)&&void 0!==o?o:"",R=function(e,i){var t;const{name:n=""}=null!==(t=e.find((e=>e.key===i)))&&void 0!==t?t:{};return n}(null!==(a=u.data)&&void 0!==a?a:[],c),C=function(e,i){var t;const{name:n=""}=null!==(t=e.find((e=>e.key===i)))&&void 0!==t?t:{};return n}(null!==(r=_.data)&&void 0!==r?r:[],d);return(0,s.jsx)(v,{brandName:E,country:R,language:C,isAgeMatched:g,isBehaviorTargetingMatched:S,isCustomerListMatched:T,isGeoPostalCodeMatched:w,isGeoRegionMatched:I,isShoppingTargetingRematched:A,onDismiss:i})}var T=t(890587),w=t(468593),I=t(149230),A=t(248034),E=t(61877),R=t(760372),C=t(778423),O=t(813401),k=t(680046),j=t(22245),N=t(55275),D=t(925927);function B(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class z extends n.Component{constructor(e){super(e),B(this,"getRecommendationDescription",(()=>{const{ad_match_reason:e,board:i,feedbackType:t,pinner:n,promoter:o,recommendationReason:a,sourceInterest:r}=this.props;return this.feedbackHelpers.getRecommendationDescription({ad_match_reason:e,board:i,feedbackType:t,makeNavigateLink:this.makeNavigateLink,pinner:n,promoter:o,recommendationReason:a,sourceInterest:r})})),B(this,"getRecommendationDescriptionImage",(()=>{const{board:e,feedbackType:i,pinner:t,recommendationReason:n}=this.props;if("followed"!==i&&"pfyBoard"!==i)return null;let o,a,l;return t&&t.explicitly_followed_by_me?(o=t.image_small_url,a="50%",l=`/${t.username}`):e&&e.image_thumbnail_url&&(o=e.image_thumbnail_url,a="4px",l=n&&n.board&&n.board.url||e.url),o?(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:a}},flex:"none",marginStart:3,overflow:"hidden",children:(0,s.jsx)(r.iP,{onTap:()=>{var e;return this.props.history.push(null!==(e=l)&&void 0!==e?e:"")},children:(0,s.jsx)(r.zd,{height:40,wash:!0,width:40,children:(0,s.jsx)(r.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:o})})})}):null})),B(this,"getUnfollowAction",(()=>{const{board:e,feedbackType:i,pinner:t,sourceInterest:n}=this.props;return this.feedbackHelpers.getUnfollowAction({board:e,feedbackType:i,makeNavigateLink:this.makeNavigateLink,pinner:t,sourceInterest:n})})),B(this,"getUndoText",(e=>"unfollowPinner"===e||"unfollowBoard"===e?this.props.i18n._('Follow again', 'Caption for button to undo a unfollowing of a topic', 'Caption for button to undo a unfollowing of a topic'):"")),B(this,"feedbackHelpers",(0,k.ZP)({i18n:this.props.i18n,interpolateNamedTemplate:_.nk})),B(this,"makeNavigateLink",((e,i,t,n)=>(0,s.jsx)(r.rU,{onClick:this.props.onLinkClick,href:i,inline:!0,underline:"hover",children:(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:n?{display:"inline",color:"white",textDecorationColor:"white"}:{display:"inline"}},children:t})},e))),B(this,"reportPinOption",(()=>({action:"reportPin",elementType:974,text:this.props.i18n._('Report Pin', 'Report a pin in the dropdown', 'Report a pin in the dropdown'),description:this.props.i18n._('This goes against Pinterest\'s community guidelines', 'Description for the report pin option', 'Description for the report pin option'),callback:this.props.reportPin,dataTestId:"report-pin-option"}))),B(this,"hidePinOption",(e=>{const{feedbackData:i,feedbackType:t,pinId:n,recommendationReason:o}=this.props,a="search"===t?973:982,{action:r,actionOptions:s}=this.feedbackHelpers.getHidePinAction({feedbackData:i,feedbackType:t,pinId:n,recommendationReasonId:o&&o.reason&&C.ReasonToChoose[o.reason],pinFeedbackType:"pfy"===t?4:10,throughId:o&&(0,k.yl)(o),throughProperties:o&&(0,k.XZ)(o),clientTrackingParams:(0,T.Z)(n)}),l=this.props.i18n._('Hide Pin', 'message displayed in pin feedback list', 'message displayed in pin feedback list');return{action:r,actionOptions:s,feedbackText:this.pinHiddenFeedbackText(e),text:l,description:this.props.i18n._('See fewer Pins like this', 'Description for the hide pin option', 'Description for the hide pin option'),elementType:a}})),B(this,"stopRecommendationOption",(()=>{const{feedbackData:e,feedbackType:i,pinId:t,recommendationReason:n}=this.props,{board:o,reason:a}=null!=n?n:{},r=a&&C.ReasonToChoose[a],s=n&&(0,k.yl)(n),l=n&&(0,k.XZ)(n),d="pfyBoard"===i,{action:c,actionOptions:u}=this.feedbackHelpers.getHidePinAction({feedbackData:e,feedbackType:i,pinId:t,recommendationReasonId:r,pinFeedbackType:d?2:4,throughId:s,throughProperties:l,clientTrackingParams:(0,T.Z)(t)}),p=o?this.makeNavigateLink("boardUrl",o.url,o.name,!0):"";return{action:c,actionOptions:u,feedbackText:{subTitle:d&&o?(0,_.nk)(this.props.i18n._('We won\'t show you Pins inspired by your board {{ formattedBoard }} anymore.', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{formattedBoard:p}):this.props.i18n._('Got it! We won\'t show you Pins like this in the future.', 'message displayed after stopping recommendations from a pin', 'message displayed after stopping recommendations from a pin')},text:d&&o?(0,_.nk)(this.props.i18n._('Stop seeing Pins inspired by {{ boardName }}', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{boardName:o.name}):this.props.i18n._('See fewer Pins like this', 'Feedback option to stop recommendations inspired by this Pin', 'Feedback option to stop recommendations inspired by this Pin'),elementType:284}})),B(this,"unfollowBoardOption",(()=>{var e,i;const{board:t}=this.props,n=t?this.makeNavigateLink("boardUrl",null!==(e=t.url)&&void 0!==e?e:"",null!==(i=t.name)&&void 0!==i?i:"",!0):"",o=(0,_.nk)(this.props.i18n._('Unfollow {{ boardName }}', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{boardName:null==t?void 0:t.name}),a=(0,_.nk)(this.props.i18n._('Got it! You unfollowed {{ formattedBoard }} and won\'t see Pins saved to it in the future.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:n});return{action:"unfollowBoard",actionOptions:{board_id:null==t?void 0:t.id},feedbackText:{title:"",subTitle:a},text:o,description:(0,_.nk)(this.props.i18n._('Stop seeing Pins from the board "{{ boardName }}"', 'Secondary caption displayed in pin feedback list to unfollow a board', 'Secondary caption displayed in pin feedback list to unfollow a board'),{boardName:null==t?void 0:t.name}),elementType:10614}})),B(this,"unfollowTopicOption",(()=>{const{sourceInterest:e}=this.props;if(e){const{id:i,name:t="",url_name:n=""}=e,o=`/topics/${n}`,a=this.makeNavigateLink("topicUrl",o,t,!0),r=(0,_.nk)(this.props.i18n._('See fewer Pins from {{ topicName }}', 'Primary caption displayed in pin feedback list to unfollow a topic', 'Primary caption displayed in pin feedback list to unfollow a topic'),{topicName:t}),s=(0,_.nk)(this.props.i18n._('We\'ll show you fewer Pins from {{ formattedTopic }} in the future.', 'Confirmation text after unfollowing a topic', 'Confirmation text after unfollowing a topic'),{formattedTopic:a});return{action:"unfollowTopic",actionOptions:{interest_id:i,interest_list:R.X},feedbackText:{title:"",subTitle:s},text:r,description:(0,_.nk)(this.props.i18n._('Stop seeing Pins from the topic "{{ topicName }}"', 'Secondary caption displayed in pin feedback list to unfollow a topic', 'Secondary caption displayed in pin feedback list to unfollow a topic'),{topicName:e.name}),elementType:976}}return null})),B(this,"unfollowUserOption",(()=>{const{pinner:e}=this.props,{id:i,username:t,full_name:n}=null!=e?e:{},o=`/${t}`,a=e?this.makeNavigateLink("pinnerUrl",o,null!=n?n:"",!0):"";return{action:"unfollowPinner",actionOptions:{user_id:i},feedbackText:{title:"",subTitle:(0,_.nk)(this.props.i18n._('Got it! You unfollowed {{ formattedUser }} and won\'t see Pins they save in the future.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedUser:a})},text:(0,_.nk)(this.props.i18n._('Unfollow {{ fullName }}', 'Primary caption displayed in pin feedback list to unfollow a user', 'Primary caption displayed in pin feedback list to unfollow a user'),{fullName:n}),description:this.props.i18n._('Stop seeing all their Pins', 'Secondary caption displayed in pin feedback list to unfollow a user', 'Secondary caption displayed in pin feedback list to unfollow a user'),elementType:10640}})),B(this,"downloadPinOption",(()=>({action:"downloadPin",text:this.props.i18n._('Download image', 'Button to download Pin image', 'Button to download Pin image'),elementType:10836}))),B(this,"_pinFeedbackText",(()=>{const{location:e,feedbackType:i,hideDownload:t,pinner:n}=this.props,o="followed"===this.props.feedbackType,a=e.pathname.includes("following"),r=(o||"topic"===i)&&!a,s=this.hidePinOption(r),l=this.reportPinOption(),d="promoted"!==i&&!t;switch(i){case"followed":const e=a,t=!e&&this.getRecommendationDescription(),o=null!=n&&n.explicitly_followed_by_me?this.unfollowUserOption():this.unfollowBoardOption();return{...t?{description:t}:{},options:[s,...r||e?[o]:[],..."promoted"!==i?[this.downloadPinOption()]:[],l]};case"promoted":const{pinId:c,showAdReasonsModal:u}=this.props,_=[s,{dataTestId:"why-am-i-seeing-this-ad-reasons",action:"showAdReasons",text:this.props.i18n._('Why am I seeing this ad?', 'app.common.react.components.PinFeedbackDropdown.adReasonText', 'Text to promoted pins explanation modal'),callback:()=>{u(c)}},l];return{description:this.getRecommendationDescription(),options:_};case"topic":const p=this.unfollowTopicOption(),h=[s,...r&&p?[p]:[],...d?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:h};case"pfy":case"pfyBoard":const m=[s,..."pfyBoard"===i?[this.stopRecommendationOption()]:[],...d?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:m};default:const f=[s,...d?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:f}}})),B(this,"pinHiddenFeedbackText",(e=>{const{isPromoted:i,promoter:t}=this.props,n=e?null:this.getUnfollowAction();return i&&null!=t&&t.full_name?{title:"",subTitle:(0,_.nk)(this.props.i18n._('{{ promoter }} has paid to have this pin show up where you\'d be more likely to notice it.', 'webapp.app.pinFeedbackDropdown.promotedFeedbackText.subtitle', 'Message displayed after hiding a promoted pin. promoter: the name of the person who promoted the pin.'),{promoter:t.full_name})}:n?{title:"",subTitle:this.getRecommendationDescription(),unfollow:n}:{title:"",subTitle:this.props.i18n._('Got it! We won\'t show you this Pin in the future.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}}));const i=this._pinFeedbackText();this.state={pinFeedbackConfig:i,showSecondary:!1}}onPinFeedbackActionButtonClick(e,i,t){e.stopPropagation(),i.auxData?this.handleClickLogging(i.elementType,i.auxData):this.handleClickLogging(i.elementType),(0,N.t)(i.action,i.actionOptions,t)}onPinHide(e,i,t,n){const{hidePinFeedback:o,onHide:a,pinId:r,showPinFeedback:s,showPinFeedbackOverlay:l,showPinFeedbackUndo:d,viewParameter:c,viewType:u,logContextEvent:_}=this.props;i&&t&&n?d(r,e,(0,k.EF)(t,n,r,u,c,o,_),this.getUndoText(n)):s(r,e),!t||t.promoted||10!==t.feedback_type&&4!==t.feedback_type?a():(this.setState({showSecondary:!0}),l(r))}handleClickLogging(e,i={}){const{feedbackType:t,viewParameter:n,viewType:o,logContextEvent:a}=this.props;a({event_type:101,view_type:o,view_parameter:n,element:e,component:(0,k.nb)(t),aux_data:{...i}})}renderButtons(){const{hideDownload:e,onDownloadHideFlyout:i,pinId:t,viewType:n,viewParameter:o,logContextEvent:a,isWindowsPwa:l}=this.props,{pinFeedbackConfig:d}=this.state,{options:c}=d,u=[],_=c.length;for(let p=0;p<_;p+=1){const d=c[p],_=N.P.includes(d.action),h=d.callback?d.callback:()=>this.onPinHide(d.feedbackText,_,d.actionOptions,d.action);if("downloadPin"!==d.action){const e=(0,I.Z)({url:d.link||""});let i="";Array.isArray(d.text)?i=d.text.join(""):"string"!=typeof d.text&&"number"!=typeof d.text||(i=d.text.toString()),u.push(d.link?(0,s.jsx)(r.Lt.Link,{href:d.link,isExternal:e,option:{value:d.action||"",label:i},dataTestId:d.dataTestId||""}):(0,s.jsx)(r.Lt.Item,{onSelect:({event:e})=>this.onPinFeedbackActionButtonClick(e,d,h),option:{value:d.action||"",label:i},dataTestId:d.dataTestId||""}))}else if(!e&&!1===l){const{bestPinImgSrc:e,pinTitle:l,pinDescription:d,pinCategory:c}=this.props;u.push((0,s.jsx)(r.Lt.Item,{onSelect:()=>{(0,w.Z)({category:c,filename:l||d,imageDownloadSuccessCallback:()=>{i&&i()},imgSrc:e,pinId:t,viewParameter:o,viewType:n},a)},option:{value:"downloadImage",label:this.props.i18n._('Download image', 'pinRep.pinFeedbackDropdown.downloadImage', 'Label to download the pin image')}}))}}return u}render(){const{pinFeedbackConfig:e,showSecondary:i}=this.state,{anchor:t,onDismiss:o,feedbackData:a,feedbackType:l,hideAdReasonsModal:d,pinId:c,onHide:u,recommendationReason:_,showAdReasons:p,viewParameter:h,viewType:m}=this.props,{description:f}=e,g=this.getRecommendationDescriptionImage();return(0,s.jsxs)(n.Fragment,{children:[i?(0,s.jsx)(A.Z,{anchor:t,feedbackData:a,feedbackType:l,pinId:c,onDismiss:o,onHide:u,recommendationReason:_,viewParameter:h,viewType:m}):(0,s.jsx)(r.Lt,{anchor:t,id:"pin-action-dropdown",idealDirection:"down",onDismiss:o,zIndex:E.lI,headerContent:f&&(0,s.jsxs)(r.kC,{alignItems:"center",children:[(0,s.jsx)(r.xu,{"data-pin-recommendation-reason":null==_?void 0:_.reason,maxHeight:56,overflow:"hidden",children:(0,s.jsx)(r.xv,{color:"default",overflow:"normal",size:"200",children:f})}),g]}),children:this.renderButtons()}),p&&(0,s.jsx)(S,{onDismiss:()=>d(c),pinId:c})]})}}const L=(0,o.connect)(null,(e=>({hidePinFeedback:i=>e((0,j.I1)(i)),showPinFeedback:(i,t)=>e((0,j.ZP)(i,t)),showPinFeedbackOverlay:i=>e((0,j.Ib)(i)),showPinFeedbackUndo:(i,t,n,o)=>e((0,j.NA)(i,t,n,o)),showAdReasonsModal:i=>e((0,j.b9)(i)),hideAdReasonsModal:i=>e((0,j.yj)(i))})))((function(e){const{logContextEvent:i}=(0,p.v)(),t=(0,u.ZP)(),{ad_targeting_attribution:n,show_ad_reasons:a=!1}=(0,o.useSelector)((({pins:i})=>i[e.pinId])),r=(0,O.kf)();return(0,s.jsx)(z,{...e,showAdReasons:a,adTargetingAttribution:n,history:(0,D.k6)(),i18n:t,isWindowsPwa:r,location:(0,D.TH)(),logContextEvent:i})}))},122016:(e,i,t)=>{function n(e,i){const t=i&&i.owner&&i.owner.id;return e.isAuth&&t===e.id}t.d(i,{Z:()=>n})},275727:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(307640);function o(e){return n.zI.includes(e)}},844040:(e,i,t)=>{t.d(i,{Z:()=>ae});var n=t(667294),o=t(966338),a=t(838292),r=t(605028),s=t(307640);function l({isGroupBoard:e,pin:i,surface:t}){const{carousel_data:n,grid_title:o,rich_summary:a,title:l}=i,{isOwnPin:d,isPromoted:c}=(0,r.Z)(i);if(n){const{carousel_slots:e=[],index:i=0}=n;if(e[i]&&e[i].title)return e[i].title.trim()}if(c){if(s.ZF.includes(t))return o||"";if(d&&!e&&!n&&"UserProfilePinGrid"!==t)return"";const i=a&&"mobile application"!==a.type_name&&a.display_name;return l||i||o||""}return o||""}var d=t(623568);const c=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid"];var u=t(601508),_=t(595342),p=t(483296);const h=["CloseupRelatedProducts","ConversationView","CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid","ProductPinsFeed","UserProfilePinGrid"];function m({attributionOption:e,board:i,contentType:t,experimentsClient:n,feedbackData:o,feedbackType:a,hasCarouselData:s,inMsgPinCardUpdateExp:d=!1,isGroupBoard:c,isORBACProfileManager:m,isOwnBoard:f,pin:g,searchResultNewIdeaPinStyle:v=!1,showImageOnly:y,showNativeReactions:P,showPromotedShoppingPrice:b,surface:x,viewer:S}){var T;const{isPromoted:w,isSponsored:I}=(0,r.Z)(g),{pin_note:A}=g,E=function({attributionOption:e,feedbackType:i,isGroupBoard:t,pin:n,showImageOnly:o,surface:a,inMsgPinCardUpdateExp:r=!1}){const{is_downstream_promotion:s,native_creator:l,promoter:d,sponsorship:c,story_pin_data_id:u}=n;if("promoted"===i||d&&!s||c)return"default";if((!r||"ConversationView"!==a)&&h.includes(a))return"none";if(t)return"none";let _="default";return"SearchItem"===a&&u?_:(e&&("image-only"===e?_="image-only-credit":"hide"===e&&(_="none")),"followed"!==i||o?["IdeasHubSeasonalRow","TodayArticleFeed","ShoppingPackageItem"].includes(a)&&"hide"===e?_:"TodayArticleFeed"===a&&"show"===e?"show-for-claimed-content":l?"default":"none":_)}({attributionOption:e,feedbackType:a,isGroupBoard:c,pin:g,showImageOnly:y,surface:x,inMsgPinCardUpdateExp:d}),R=y?"":l({isGroupBoard:c,pin:g,surface:x}),C=!["ShoppingPackageItem","ShoppingSquareGridDomain","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(x)&&!w&&!y&&Boolean((0,u.Z)(g,x)),O=["ShoppingGridShippedMetadataWithVisitButton"].includes(x),k="BaseBoardPinGrid"===x&&A?null===(T=A.text)||void 0===T?void 0:T.trim():null,j=w,N="shopping"===t,D=/ShoppingSquareGridRelatedProducts/.test(x);let B,z=!0;"AuthHomefeed"!==x||w||(B=n.v2ActivateExperiment("hfp_hf_grid_rep_simplification_web"),P=!["employees","enabled_remove_reactions","enabled_one_line_title","enabled_two_line_title","enabled_remove_all"].includes(B),z=!["employees","enabled_remove_creator_attribution","enabled_one_line_title","enabled_two_line_title","enabled_remove_all"].includes(B));let L=2;w?L=3:C||"none"!==E?L=N||D?2:1:"AuthHomefeed"===x&&("enabled_one_line_title"===B?L=1:"enabled_two_line_title"===B&&(L=2));let Z,M,G,U;if(N||(w&&D||b)){var F,V;const e=null===(F=g.rich_summary)||void 0===F||null===(V=F.products)||void 0===V?void 0:V[0],{offer_summary:i}=e||{};Z=i?i.standard_price:void 0,M=i?i.price||i.max_price:void 0}if(N&&!w){var H,W,Y;const{rating_count:e,rating_value:i,review_count:t}=(null===(H=g.rich_summary)||void 0===H?void 0:H.aggregate_rating)||{};(e||t)&&parseFloat(i)&&(G={count:e||t,rating:i}),U=null===(W=g.rich_metadata)||void 0===W||null===(Y=W.products)||void 0===Y?void 0:Y[0].shipping_info}const X=(0,p.rh)(g,S,n),$="CreatorProfileStoryPinGrid"===x||"CreatorProfileActivityPinGrid"===x,q=!($||!w&&"AuthHomefeed"===x&&"enabled_remove_all"===B),K=c&&!I;return{attributionDisplay:v?"overlay":"default",attributionType:E,board:i,contentType:t,feedbackData:o,feedbackType:a,pinNoteText:k,pinTitle:R,productCurrentPrice:M,productOriginalPrice:Z,productRating:G,productShipping:U,reactionAlignment:v?"center":"start",showCarouselEllipsis:s,showFavoriteButton:!m&&("BaseBoardPinGrid"===x&&f||Boolean((null==i?void 0:i.is_collaborative)&&(0,_.Z)({board:i,viewer:S})))&&!$,showGroupBoardAvatar:K,showNativeReactions:P,showOverflowMenu:j,showPinStats:X,showSource:C,showTextContent:q,showTitle:!v,showVerifiedIcon:!!v,showVisitSiteButton:O,showAttribution:z,titleLines:L}}var f=t(27255),g=t(121630),v=t(704177),y=t(974166),P=t(354042);const b=["ShoppingCatalogsProductsMetadata"];const x=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin"],S=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","ConversationView","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin","ShoppingCatalogsProductsMetadata"];var T=t(122016),w=t(319915),I=t(984405),A=t(987097),E=t(687551),R=t(954571),C=t(778841),O=t(574589),k=t(411938),j=t(275727),N=t(947599),D=t(898781),B=t(717615),z=t(86551),L=t(19121),Z=(t(883119),t(995304)),M=t(681227),G=t(335106),U=t(231947),F=t(758523),V=t(946595),H=t(494349),W=t(862624),Y=t(578722),X=t(330899),$=t(281180),q=t(761163),K=t(767245),J=t(217468),Q=t(53987),ee=t(925927),ie=t(785893);const te=(0,n.lazy)((()=>Promise.all([t.e(97270),t.e(69965),t.e(77638),t.e(92982)]).then(t.bind(t,576070)))),ne=["ArticleProductsStory","BoardCoverSelectablePin","BoardNoteSelectablePin","BulkEditMode","CommentReply","EngagementDetails","IdeasHubSeasonalRow","OtherProfilePinGrid","SectionSuggestedPins","SelectableBoardlessPin","TopicBestPinNarrow","TopicBestPinWide"],oe=["BaseBoardPinGrid","UserProfilePinGrid",...Z.Y];const ae=(0,o.connect)((function({boards:e,pins:i},{pin:t,pinId:n}){const o=i[n]||t,a=o.board&&o.board.id,r=(a?e[`${a}`]:void 0)||o.board;return o.grid_title=o.grid_title||t.grid_title,{board:r,reduxPin:o}}),(()=>({})))((function({attributionOption:e,blockClickEvents:i,board:t,debugImpressionState:u,feedbackOptions:_,imageOnlyOption:h="default",pinImageCrop:Z,pinImageFit:ae,reduxPin:re,resolution:se="default",saveButtonOptions:le,surface:de,trackingParameters:ce,...ue}){var _e,pe,he,me,fe,ge;const ve=(0,D.ZP)(),ye=(0,W.Y)(),{collaborated_by_me:Pe,collaborator_count:be,is_collaborative:xe}=t||{},{is_quick_promotable:Se,pinner:Te,showFeedback:we,sponsorship:Ie,story_pin_data_id:Ae}=re,{isPromoted:Ee}=(0,r.Z)(re),Re=(0,O.Z)(re),Ce=(0,L.Z)(),Oe=(0,B.Z)(),{anyEnabled:ke}=(0,J.t)("web_m10n_business_access_orbac_www")(),je=(0,J.t)("dweb_search_results_idea_attribution"),{group:Ne}="SearchItem"===de?je():{},De=!!Ae&&["enabled_blended","enabled_idea","employees"].includes(Ne),Be=(0,ee.TH)(),{slotIndex:ze,viewParameter:Le}=ce,{anyEnabled:Ze}=(0,J.a)("web_repin_flow",["AuthHomefeed","BaseBoardPinGrid"].includes(de)),Me=(0,X.x)(),{appUI:{videosAutoplaying:Ge}}=(0,H.I)(),Ue=(0,G.i8)(re.id,Ge),Fe=(0,o.useSelector)((({changeBoardFromToast:e})=>e))||{},Ve=(0,C.Z)(re),He=(0,E.Z)(re),We=Ce.isAuth&&Ce.isEmployee,Ye=Ce.isAuth&&((0,R.Z)(null,Ce)||(0,k.Z)(null,Ce))&&!Ce.isPartner;let Xe=Ye;"TodayArticleFeed"===de&&(Xe=!1),"default"!==h&&(Xe="image-only"===h),(0,j.Z)(de)&&(Xe=!1),"ShoppingSquareGridDomainNoMetadata"===de&&(Xe=!0),Ee||Ae||!["enabled_blended","employees"].includes(Ne)||(Xe=!0);let $e=e;Ye&&!$e&&($e="image-only");const qe=(0,A.Z)({feedbackOptions:_,pin:re,viewParameter:Le},ve),{data:Ke}=_||{},Je="number"==typeof be&&be>0||xe;let Qe=!1;"OtherProfilePinGrid"===de?Qe=!0:"BaseBoardPinGrid"===de?Qe="dense"===(null==Me?void 0:Me.boardPinDensity):"UserProfilePinGrid"===de&&(Qe="dense"===(null==Me?void 0:Me.profilePinDensity));const ei=Boolean(Je&&"BaseBoardPinGrid"===de),ii=(0,z.Z)(),ti=(0,$.kW)(),ni=ti&&ti[null!==(_e=null===(pe=ii.data)||void 0===pe?void 0:pe.id)&&void 0!==_e?_e:""]?ti[null!==(he=null===(me=ii.data)||void 0===me?void 0:me.id)&&void 0!==he?he:""]:ii.data,oi=(0,T.Z)(Ce,t);let ai=!1;if(!!(0,ee.LX)(Be.pathname,{path:"/:username/_created/",exact:!0}))ai=(0,U.q6)(Ce,null==ni?void 0:ni.id,Oe);else if((0,Q.am)(Be)||(0,Q.OJ)(Be)){const e=t&&t.owner&&t.owner.id||"";ai=(0,U.q6)(Ce,e,Oe)}const ri=Boolean(Ce.isAuth&&Te&&Te.id===Ce.id),si=Boolean(Pe||Je&&oi),li=Ce.isAuth&&Ce.isPartner,di=(0,J.a)("web_deleted_idea_pins",!(null===(fe=re.story_pin_data)||void 0===fe||!fe.is_deleted)).anyEnabled,ci=(0,n.useMemo)((()=>function({hasCarouselData:e,isDeletedStoryPin:i,surface:t}){const n={primaryContent:null,secondaryContent:null,actionBar:S.includes(t)||i?"none":"visible",accessoryContent:e?"visible":"none"};return i||x.includes(t)?(n.primaryContent="none",n.secondaryContent="none"):["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(t)&&(n.primaryContent="visible"),n}({hasCarouselData:He,isDeletedStoryPin:di,surface:de})),[He,di,de]),ui=(0,n.useMemo)((()=>function({board:e,isDenseView:i,isGroupBoard:t,isInlineBetterSave:n,isOwnBoard:o,isORBACProfileManager:a,isQuickPromotable:r,isRemovable:l,saveButtonOptions:d,surface:c,viewer:u,viewerIsCollaborator:_}){const p=u.isAuth?u.boardCount:void 0;let h=d||function(e=0){return 0===e?{type:"classic"}:{type:"inline"}}(p);r?h={type:"promote"}:(_||o||["OtherProfilePinGrid","UserProfilePinGrid"].includes(c))&&!["BoardlessPins","CreatorProfileActivityPinGrid","CreatorProfileStoryPinGrid","BaseBoardPinGrid"].includes(c)?h={type:"classic"}:(_||o)&&["BaseBoardPinGrid"].includes(c)&&null!=e&&e.name&&e.url&&e.id&&(h={type:"inline",initialSelection:{title:e.name,boardId:e.id,url:e.url}});return n&&(h={type:"inline",hidePinBetterSaveDropdown:"BaseBoardPinGrid"===c}),(l||b.includes(c)||a)&&(h={type:"none"}),{board:e,derivedSaveButtonOptions:h,showLikeButton:_&&t&&s.UP.includes(c),supportsReactionBar:!i}}({board:t,isInlineBetterSave:Ze,isDenseView:Qe,isGroupBoard:ei,isOwnBoard:oi,isOwnPin:ri,isORBACProfileManager:ai,isQuickPromotable:Se,isRemovable:Re,saveButtonOptions:le,surface:de,viewer:Ce,viewerIsCollaborator:si})),[t,Ze,Qe,ei,oi,ri,ai,Se,Re,le,de,Ce,si]),{anyEnabled:_i}=(0,J.t)("web_shopping_grid_metadata_ratings_shipping")({dangerouslySkipActivation:!0});let pi;["ShoppingDynamicHeightGrid","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadataWithVisitButton","ShoppingSquareGridRelatedProducts"].includes(de)&&!Ee&&(pi="white");const hi=(0,n.useMemo)((()=>function({allowProductCarousel:e=!1,shoppingLabelColor:i,surface:t}){return{allowProductCarousel:e,allowShoppingPriceIndicator:s.Wv.includes(t),shoppingLabelColor:i}}({allowProductCarousel:Ve,shoppingLabelColor:pi,surface:de})),[Ve,pi,de]),mi=(0,n.useMemo)((()=>function({board:e,feedbackData:i,feedbackType:t,isDenseView:n,isGroupBoard:o,isOwnBoard:s,isORBACProfileManager:u,isORBACBeta:_,pin:p,surface:h,viewer:m}){var f;const{isOwnPin:g,isPromoted:v}=(0,r.Z)(p),y=l({isGroupBoard:o,pin:p,surface:h}),P=e&&(0,a.Z)({action:4,board:e,viewer:m})||g,b=p.savedInfo&&p.savedInfo.localPinId,x=Boolean(s&&!o||"UserProfilePinGrid"===h&&P||b),S=Boolean(o&&P||x||u&&(!(0,d.hy)(p)||_)),T=Boolean((null==e?void 0:e.is_collaborative)||x),w=!(v||s||o||c.includes(h)||u),I="CloseupRelatedProducts"!==h&&!u,{tracked_link:A,link:E}=p,R=!(null===(f=null!=A?A:E)||void 0===f||!f);let C=o&&n?"equally-spaced":"default",O="default";return n&&(O=o?"icon-only":"truncated-text"),n&&["UserProfilePinGrid","BaseBoardPinGrid","BoardlessPins"].includes(h)&&(O="icon-only",C="equally-spaced"),{actionBarEditBeforeShare:T,feedbackData:i,feedbackType:t,layout:C,pinTitle:y,showEditButton:S,showOverflowMenu:w,showShareButton:I,showSourceLinkButton:R,sourceLinkStyle:O}}({board:t,feedbackData:Ke,feedbackType:qe,isDenseView:Qe,isGroupBoard:ei,isOwnBoard:oi,isORBACProfileManager:ai,isORBACBeta:ke,pin:re,surface:de,viewer:Ce})),[t,Ke,qe,Qe,ei,oi,ai,ke,re,de,Ce]),fi=!ai&&(0,p.rh)(re,Ce,ye)&&oe.includes(de)&&ri,gi=["ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadata","ShoppingGridShippedMetadataWithVisitButton","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(de),vi=!Ee&&gi?"shopping":"standard",yi="CreatorProfileStoryPinGrid"===de?ri&&(0,M.J6)(re,di):(0,M.J6)(re,di),Pi=(0,J.t)("web_ag_msg_pin_card_update"),bi="ConversationView"===de&&Pi({dangerouslySkipActivation:!0}).anyEnabled,xi=(0,n.useMemo)((()=>m({attributionOption:$e,board:t,contentType:vi,experimentsClient:ye,feedbackData:Ke,feedbackType:qe,hasCarouselData:He,inMsgPinCardUpdateExp:bi,isGroupBoard:ei,isORBACProfileManager:ai,isOwnBoard:oi,pin:re,searchResultNewIdeaPinStyle:De,showImageOnly:Xe,showNativeReactions:yi,showPromotedShoppingPrice:_i&&Ee&&gi,surface:de,viewer:Ce})),[$e,t,vi,ye,Ke,qe,He,bi,ei,ai,oi,Ee,gi,re,De,_i,Xe,yi,de,Ce]),Si=!!re.story_pin_data_id,Ti=re.created_at?new Date(re.created_at):null,wi=(0,Y.pN)({isOwnPin:ri,isStoryPin:Si,pinCreationDate:Ti,surface:de});let Ii=Boolean(xi.pinTitle||xi.contentType||xi.userNote||xi.showSource||"none"!==xi.attributionType||xi.showNativeReactions||xi.productCurrentPrice||xi.productOriginalPrice||xi.showPinStats)||ei;"BaseBoardPinGrid"===de&&oi&&li||Ie?Ii=!0:ne.includes(de)||Qe&&(oi||Pe)?Ii=!1:ri||"CreatorProfileStoryPinGrid"!==de&&"CreatorProfileActivityPinGrid"!==de||(Ii=!1);const Ai=Boolean(we),Ei=(0,J.t)("web_others_board_feed_ads_border"),Ri={showNoPinBorderRadius:"TopicBestPinNarrow"===de||"TopicBestPinWide"===de||bi&&"ConversationView"===de,showPromotedPinBorderTreatment:"BaseBoardPinGrid"===de&&Ee&&Ei().anyEnabled,shouldUseLegoWash:!0},{anyEnabled:Ci}=(0,J.a)("hfp_homefeed_control_cta_variants"),Oi={feedbackType:qe,isHomefeedTunerVariantExp:Ci},{anyEnabled:ki}=(0,J.t)("ads_desktop_video_ads")({dangerouslySkipActivation:!0}),ji=(0,n.useMemo)((()=>function({hasCarouselData:e,isDenseView:i,isSocialSeasonalBoard:t,pinImageCrop:n,pinImageFit:o,resolution:a,showPromotedVideos:r,surface:l}){const d=s.zl.includes(l);let c="backend";"CloseupRelatedProducts"===l?c={height:P.GZ,width:P.OE}:"TopicBestPinWide"===l?c={height:y.m9,width:y.BS}:"TopicBestPinNarrow"===l?c={height:y._5,width:y.A6}:["ArticleProductsStory","ShoppingSquareGridCrop","ShoppingSquareGridDomainNoMetadata"].includes(l)||d?c={height:P.zX,width:P.zX}:n&&(c=n);let u="none",_=null!=a?a:"default";"string"!=typeof c&&(u="cover",(d||"ShoppingDynamicHeightGrid"===l&&!o||"ShoppingSquareGridDomainNoMetadata"===l)&&(u="contain",_="high-res"));const p=d||["ShoppingSquareGridDomainNoMetadata","ShoppingDynamicHeightGrid"].includes(l)?"transparent":"dominant",h=(0,g.e)(l);return{autoplaySettingOff:"undefined"!=typeof window&&0===v.Xb.getItem(f.Z.VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY),fallbackColor:p,imageFit:u,isDenseView:i,isSocialSeasonalBoard:t,resolution:_,rootMargin:h,pinImageCrop:c,showCarousel:e&&!["ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(l),showPromotedVideos:r}}({hasCarouselData:He,isDenseView:Qe,isPromoted:Ee,isSocialSeasonalBoard:!1,pinImageCrop:Z,pinImageFit:ae,resolution:se,showPromotedVideos:ki,surface:de})),[He,Qe,Ee,Z,ae,se,ki,de]),Ni=We&&(0,K.F)(),Di=(0,n.useMemo)((()=>({debugImpressionState:u,slotIndex:ze})),[u,ze]),Bi=(0,n.useMemo)((()=>({surface:de})),[de]);return(0,ie.jsx)(w.Z,{name:"PinRepConfiguration",children:(0,ie.jsx)(V.B,{value:ce,children:(0,ie.jsxs)(F.B,{value:Bi,children:[(0,ie.jsx)(q.Z,{actionBarProps:mi,blockClickEvents:i,currentlyPlayingVideo:Ue,footerProps:xi,impressionsDebuggerProps:Di,obscuredPinOverlayProps:Oi,pin:re,pinVisualProps:ji,presentationProps:Ri,primaryContentProps:ui,secondaryContentProps:hi,showFooter:Ii||wi,showImpressionsDebugger:Ni,showObscuredPinOverlay:Ai,showSeeStatsButton:fi,showSignalDebugger:We,showUnavailablePin:di,surface:de,visibilityOverrides:ci,...(0,I.Z)(ue,["pinId"])}),Fe.shouldOpenModal&&Fe.newPin&&(null===(ge=Fe.originalPin)||void 0===ge?void 0:ge.id)===re.id&&(0,ie.jsx)(w.Z,{name:"SafeSuspense_PinRepConfiguration_ChangeBoardModal",children:(0,ie.jsx)(N.Z,{children:(0,ie.jsx)(te,{experience:Fe.experience,newPin:Fe.newPin})})})]})})})}))},761163:(e,i,t)=>{t.d(i,{J:()=>Wi,Z:()=>Yi});var n=t(667294),o=t(241244),a=t(319915),r=t(605028),s=t(947599),l=t(898781),d=t(780280),c=t(946595),u=t(527890),_=t(768559),p=t(89254);function h(e,i){const{carousel_data:t,domain:n,ad_destination_url:o}=e;let a=n||"";return o&&(a=(0,p.Z)(o).hostname||""),t&&t.id&&(a=function(e,i){const t=i||e&&e.index||0,n=e&&e.carousel_slots||[],o=n[t]&&n[t].link||"";return o&&(0,p.Z)(o).hostname||""}(t,i)),a.replace("www.","")}var m=t(287072),f=t(542563),g=t(35495),v=t(925927),y=t(883119),P=t(785893);const b={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:18,height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}};function x({pin:e,sourceLinkStyle:i,surface:t,url:o}){const a=(0,l.ZP)(),[r,s]=(0,n.useState)(!1),{id:d}=e,p=h(e),x=(0,v.TH)(),S=(0,g.Kl)(e)||{},{slotIndex:T}=(0,c.E)(),w=(0,_.Z)(e,x),I=(0,f.Z)(12,{object_id_str:d,clientTrackingParams:w,aux_data:{grid_index:T,...(0,g.Kl)(e)||{}}}),A=(0,f.Z)(101,{element:162,object_id_str:d,clientTrackingParams:w,aux_data:{...(0,g.Kl)(e)||{}}}),E=(0,f.Z)(8948,{object_id_str:d,clientTrackingParams:w,aux_data:{click_type:"clickthrough",closeup_navigation_type:"click",grid_index:T,...(0,g.Kl)(e)||{}}}),R=()=>{I(),A(),E()},C=(0,m.Z)({href:o,target:"blank",externalData:{auxData:S,pin:e,surface:t}});return"icon-only"===i?(0,P.jsx)(y.hU,{accessibilityLabel:a._('link', 'Website url link', 'Website url link'),bgColor:"white",href:o,icon:"arrow-up-right",iconColor:"darkGray",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),R(),C({event:e})},role:"link",rel:"nofollow",size:"sm"}):(0,P.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{...b.container,...r?b.containerHovered:Object.freeze({}),..."truncated-text"===i?b.containerTruncated:Object.freeze({})}},"data-test-id":"pinrep-source-link",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),position:"relative",children:(0,P.jsx)(u.Z,{hovered:r,pin:e,slotIndex:T,viewType:1,children:(0,P.jsx)(y.iP,{fullWidth:!1,href:o,onTap:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),R(),C({event:e})},rel:"nofollow",role:"link",rounding:4,children:(0,P.jsxs)(y.xu,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:b.text},display:"flex",justifyContent:"between",children:[(0,P.jsx)(y.xu,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3,children:(0,P.jsx)(y.JO,{accessibilityLabel:a._('link', 'Website url link', 'Website url link'),color:"default",icon:"arrow-up-right",size:9})}),(0,P.jsx)(y.xu,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden",children:(0,P.jsx)(y.xv,{color:"default",size:"200",weight:"bold",lineClamp:1,children:p})})]})})})})}const S=(0,n.lazy)((()=>Promise.all([t.e(97270),t.e(14166),t.e(18829),t.e(48035)]).then(t.bind(t,661712)))),T=(0,n.lazy)((()=>Promise.resolve().then(t.bind(t,955362)))),w=(0,n.lazy)((()=>t.e(5035).then(t.bind(t,833708))));const I=(0,n.memo)((function({actionBarEditBeforeShare:e,feedbackData:i,feedbackType:t,layout:u,onToggleFlyout:_,pin:p,pinTitle:h,setForcePrimary:m,showEditButton:f,showOverflowMenu:g,showShareButton:v,showSourceLinkButton:b,sourceLinkStyle:I,surface:A}){var E,R;const C=(0,l.ZP)(),O=(0,y.JZ)(),{isRTL:k}=(0,d.B)(),{viewParameter:j,viewType:N}=(0,c.E)(),{carousel_data:D,id:B,savedInfo:z,tracked_link:L,link:Z,ad_destination_url:M}=p,G=null!==(E=null!==(R=null!=M?M:L)&&void 0!==R?R:Z)&&void 0!==E?E:"",{isLeadPin:U}=(0,r.Z)(p),[F,V]=(0,n.useState)(f),[H,W]=(0,n.useState)(f),[Y,X]=(0,n.useState)(f),$={...k?{marginLeft:f&&g?-44:0}:{marginRight:f&&g?-44:0},transition:k?"margin-left .2s ease-in-out":"margin-right .2s ease-in-out"},q={opacity:Y?1:0,transition:"opacity .2s ease-in-out",pointerEvents:"auto"},K={...k?{marginRight:H?4:0}:{marginLeft:H?4:0},transition:k?"margin-right .2s ease-in-out":"margin-left .2s ease-in-out"};(0,n.useEffect)((()=>{let e;return f&&g?(W(!0),e=setTimeout((()=>{requestAnimationFrame((()=>{V(!0),requestAnimationFrame((()=>{X(!0)}))}))}),800)):(W(f),V(f),requestAnimationFrame((()=>{X(f)}))),()=>{clearTimeout(e)}}),[f,g]);let J=null;b&&(J=(0,P.jsx)(o.Z,{children:U?(0,P.jsx)(y.zx,{role:"button",accessibilityLabel:C._('Link for closeup view and sign up', '[m10n] pinRep.actionBar.signup', 'Content for sign up link'),size:"sm",text:C._('Sign up', '[m10n] pinRep.actionBar.signup', 'Content for sign up link')}):(0,P.jsx)(x,{pin:p,sourceLinkStyle:I,surface:A,url:G})}));const Q=v&&(0,P.jsx)(a.Z,{name:"SafeSuspense_PinRep_SendShareLink",children:(0,P.jsx)(s.Z,{children:(0,P.jsx)(y.xu,{"data-test-id":"send-share-link",children:(0,P.jsx)(o.Z,{children:(0,P.jsx)(w,{pin:p,setForcePrimary:m})})})})}),ee=Boolean(null==z?void 0:z.localPinId)?null==z?void 0:z.localPinId:B,ie=F&&(0,P.jsx)(a.Z,{name:"SafeSuspense_PinRep_EditButton",children:(0,P.jsx)(s.Z,{children:(0,P.jsx)(y.xu,{"data-test-id":"edit-button",dangerouslySetInlineStyle:O?void 0:{__style:q},children:(0,P.jsx)(o.Z,{children:(0,P.jsx)(S,{carouselSlotCurrentIndex:D&&D.index,component:0,onToggleModal:_,pinId:ee,style:{size:"sm"},view:N,viewParameter:j,useLegoStyles:!0})})})})});return"equally-spaced"===u?(0,P.jsxs)(y.xu,{display:"flex",justifyContent:"between",alignItems:"center",padding:3,children:[(0,P.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{flexBasis:32}},children:J}),e?ie:Q,e?Q:ie]}):(0,P.jsxs)(y.xu,{alignItems:"center",display:"flex",padding:3,children:[(0,P.jsx)(y.xu,{flex:"shrink",children:J}),(0,P.jsx)(y.xu,{alignItems:"center",display:"flex",flex:"none",marginStart:"auto",dangerouslySetInlineStyle:O?void 0:{__style:$},children:(0,P.jsxs)(y.kC,{alignItems:"center",gap:2,justifyContent:"end",children:[e?ie:Q,e?Q:ie,g&&(0,P.jsx)(a.Z,{name:"SafeSuspense_PinRep_OverflowMenu",children:(0,P.jsx)(s.Z,{children:(0,P.jsx)(y.xu,{"data-test-id":"overflow-menu-button",dangerouslySetInlineStyle:O?void 0:{__style:K},children:(0,P.jsx)(o.Z,{children:(0,P.jsx)(T,{feedbackData:i,feedbackType:t,pin:p,pinTitle:h,setForcePrimary:m})})})})})]})})]})}));var A=t(966338),E=t(834911),R=t(811403),C=t(407043);function O({direction:e,swipeHandler:i}){const t=(0,l.ZP)(),n={left:t._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image'),right:t._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image')};return(0,P.jsx)(y.xu,{position:"absolute",bottom:!0,top:!0,left:"left"===e,right:"right"===e,children:(0,P.jsx)(y.iP,{fullHeight:!0,fullWidth:!0,onTap:i,children:(0,P.jsx)(y.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%","data-test-id":`carousel-slider-${e}`,children:(0,P.jsx)(y.JO,{accessibilityLabel:n[e],color:"inverse",icon:{left:"arrow-back",right:"arrow-forward"}[e]})})})})}const k=(0,A.connect)(null,(function(e){return{changeCarouselSlotIndex:(i,t)=>e((0,R.yR)(i,t))}}))((({pin:e,changeCarouselSlotIndex:i})=>{const{logContextEvent:t}=(0,C.v)(),{componentType:n,viewParameter:a,viewType:r}=(0,c.E)(),s=(0,E.Z)({pin:e});if(!s)return null;const{id:l=""}=e,{carousel_slots:d=[],index:u=0,id:_}=s;function p(o){return()=>{const s="left"===o?u-1:u+1;i(l,s),((i=0,o)=>{t({event_type:108,object_id_str:l,component:n,view_type:r,view_parameter:a,event_data:{pinCarouselSlotEventData:{carouselSlotId:d[i]&&Number(d[i].id),carouselDataId:Number(_),carouselSlotIndex:i,toCarouselSlotIndex:o}},aux_data:{...(0,g.Kl)(e)||{}}})})(u,s)}}return(0,P.jsxs)(y.xu,{height:"100%",position:"relative",width:"100%",children:[u>0&&(0,P.jsx)(o.Z,{children:(0,P.jsx)(O,{direction:"left",swipeHandler:p("left")})}),u<d.length-1&&(0,P.jsx)(o.Z,{children:(0,P.jsx)(O,{direction:"right",swipeHandler:p("right")})})]})}));var j=t(50385),N=t(116303);function D({accessibilityLabel:e,attributionNameLink:i,avatarUrl:t,fullWidth:n=!0,name:o="",onClick:a,outline:r=!1,size:s=32}){const l=(0,P.jsx)(y.xu,{"data-test-id":"attribution-avatar",height:s,width:s,children:(0,P.jsx)(N.Z,{name:o,src:t,accessibilityLabel:e,outline:r})});return i?(0,P.jsx)(y.iP,{fullWidth:n,role:"link",href:i,onTap:a,children:l}):l}var B=t(217468);function z({isHover:e,attributionNameLink:i,name:t,onClick:n,regularWeight:o}){const{anyEnabled:a}=(0,B.a)("web_disable_ads_blocker",!i);return(0,P.jsx)(y.xu,{children:(0,P.jsx)(y.xv,{underline:e,size:"200",lineClamp:1,weight:o?"normal":"bold",children:i?(0,P.jsx)(y.rU,{onClick:n,href:i,children:t}):a?(0,P.jsx)("span",{children:t}):t})})}function L({isHover:e,link:i,onClick:t,title:n,weight:o}){return n?(0,P.jsx)(y.xv,{inline:!0,underline:e,size:"200",weight:o,children:i?(0,P.jsx)(y.rU,{onClick:t,href:i,children:n}):n}):null}var Z=t(993786),M=t(480622);function G({attributionNameLink:e,attributionTitle:i,avatarUrl:t,display:o="default",isPromotedByPinCreator:a,pin:s,name:l,url:d,verifiedIdentity:c,isVerifiedMerchant:u}){const _=(0,M.f)(),[p,h]=(0,n.useState)(!1),{id:m,sponsorship:g,story_pin_data_id:v}=s,{isPromoted:b}=(0,r.Z)(s),{creator:x}=g||{},{id:S}=x||{},T=!!v,w=(0,f.Z)(101,{view_type:3,element:b?283:27,object_id_str:m,component:T?230:void 0,aux_data:{...S?{creator_id:S,pin_id:m}:{}}}),I=()=>{_.setMostRecentPinId(m),w()},A=()=>{h((e=>!e))},E=d&&!e,R="overlay"===o,C=(0,P.jsxs)(y.xu,{alignItems:"center",display:R?void 0:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}},children:[(0,P.jsx)(y.xu,{flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},display:R?"flex":void 0,justifyContent:"center",children:(0,P.jsx)(y.xu,{dangerouslySetInlineStyle:R?{__style:{marginTop:-45}}:void 0,children:(0,P.jsx)(D,{attributionNameLink:e,avatarUrl:t,name:l,onClick:()=>I(),accessibilityLabel:"",size:R?64:32,outline:R})})}),(0,P.jsxs)(y.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},flex:"grow",overflow:"hidden",display:R?"flex":void 0,justifyContent:"center",marginTop:R?2:void 0,children:[(0,P.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}},children:(0,P.jsxs)(y.kC,{gap:1,children:[(0,P.jsx)(z,{attributionNameLink:e,name:l,onClick:()=>I(),regularWeight:!(b&&!g||a),isHover:p}),(0,P.jsx)(Z.Z,{size:"sm",hasVerifiedIdentity:c,isVerifiedMerchant:u})]})}),(0,P.jsx)(L,{isHover:p,title:i,weight:"normal"})]})]});return E?(0,P.jsx)(y.iP,{role:"link",onTap:({event:e})=>{e.stopPropagation(),I()},href:d,onMouseEnter:A,onMouseLeave:A,children:C}):C}var U=t(333070),F=t(122016),V=t(333312),H=t(946244),W=t(674578),Y=t(19121),X=t(978698),$=t(535095),q=t(281615),K=t(622403);function J({board:e,favoriteCount:i,favorited:t,pinId:o}){const{logContextEvent:a}=(0,C.v)(),r=(0,A.useDispatch)(),{slotIndex:s}=(0,c.E)(),{currentFilter:l,eligibleFilters:d,refreshData:u=(()=>{}),sectionId:_,setShowExperienceTooltip:p}=(0,K.s)(),h=(0,n.useRef)(null),m=(0,Y.Z)(),f=(0,F.Z)(m,e),g=l===$.Ac&&(!i||1===i),v=(0,X.E)(d,$.Ac),b=e=>{a({event_type:101,component:0,element:e?12225:12226,object_id_str:o,view_type:5,view_parameter:f?3069:3070})};return(0,P.jsxs)(n.Fragment,{children:[(0,P.jsx)(y.xu,{ref:h,children:(0,P.jsx)(H.Z,{favorited:t,favoriteCount:i,onFavorite:()=>{b(!0),v&&u(),p&&p(!0)},onUnfavorite:()=>{b(!1),e&&g&&r((0,W.Z)({feedId:_||e.id,feedType:_?q.DV.SECTION_PINS:q.DV.BOARD_PINS,itemIds:[o],itemType:"pin"}))},pinId:o,size:20})}),h&&!t&&!_&&0===s&&(0,P.jsx)(y.mh,{children:(0,P.jsx)(V.Z,{anchor:h.current,experienceIds:[502973],flyoutSize:312,idealDirection:"up",placementId:18,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})]})}var Q=t(850115),ee=t.n(Q),ie=t(379507),te=t.n(ie),ne=t(637956),oe=t.n(ne),ae=t(694379),re=t(909745),se=t.n(re),le=t(128206),de=t.n(le),ce=t(681227);const ue={goodIdea:ee(),love:oe(),thanks:se(),wow:de(),haha:te()},_e={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"},pe=["CreatorProfileStoryPinGrid"];const he=function({alignment:e="start",pinId:i,pinner:t,reactionCounts:n,surface:o}){const a=(0,Y.Z)(),r=n?(0,ce.At)(n):null,s=n?(0,ce.Ud)(n):0,l=Boolean(a.isAuth&&(null==t?void 0:t.id)===a.id),d=!!r&&r.length>0&&r.map(((e,i)=>{const t=ue[_e[e]];return(0,P.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:(0,P.jsx)(y.xu,{width:17,height:17,dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${t})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})},i)})),c=!!d&&(0,P.jsx)(y.iP,{role:"link",href:`/pin/${i}/`,children:(0,P.jsxs)(y.xu,{display:"flex",direction:"row",alignItems:"center",justifyContent:e,height:19,paddingY:3,children:[(0,P.jsx)(y.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:d}),(0,P.jsx)(y.xu,{paddingX:1,children:(0,P.jsx)(y.xv,{size:"200",children:(0,P.jsx)(ae.Z,{value:s,shortform:!0,shortformMaximumFractionDigits:1})})})]})}),u=l&&pe.includes(o)&&(0,P.jsx)(y.xu,{height:24});return c||u};var me=t(605707),fe=t(864537);function ge({feedbackType:e,pin:i}){const t=(0,l.ZP)(),{pinner:n,source_interest:o}=i,{full_name:a,username:r}=n||{},{name:s}=o||{},d="topic"===e,c=!d&&"followed"===e,u=`/${r}/`,_=(0,fe.NO)(s),p=`/search/pins/?q=${encodeURIComponent(_)}&rs=image_only_attribution`,h=d?p:u,m={topic:t._('From {topic}', 'attribution on pin rep', 'attribution on pin rep'),followed:t._('From {pinnerName}', 'attribution on pin rep', 'attribution on pin rep'),pfyBoard:t._('Picked for you', 'attribution on pin rep', 'attribution on pin rep'),pfy:t._('Picked for you', 'attribution on pin rep', 'attribution on pin rep')}[e];if(!m)return null;if(c||d){const e=0===m.indexOf("{"),i=d?s:a,t=e?m.slice(m.indexOf("}")+1):m.slice(0,m.indexOf("{"));return e?(0,P.jsxs)(y.xu,{children:[(0,P.jsx)(y.rU,{inline:!0,href:h,underline:"hover",children:(0,P.jsx)(y.xv,{weight:"bold",inline:!0,size:"200",lineClamp:1,children:i})}),(0,P.jsx)(y.xv,{inline:!0,size:"200",children:t})]}):(0,P.jsxs)(y.xu,{children:[(0,P.jsx)(y.xv,{inline:!0,size:"200",children:t}),(0,P.jsx)(y.rU,{inline:!0,href:h,underline:"hover",children:(0,P.jsx)(y.xv,{color:"default",weight:"bold",inline:!0,size:"200",lineClamp:1,children:i})})]})}return(0,P.jsx)(y.xu,{children:(0,P.jsx)(me.Z,{pin:i,children:(0,P.jsx)(y.xv,{color:"default",overflow:"normal",size:"200",weight:"bold",children:m})})})}var ve=t(595342),ye=t(955362),Pe=t(397066),be=t(48714);function xe(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class Se extends n.Component{constructor(...e){super(...e),xe(this,"state",{spamCheck:null}),xe(this,"mounted",!1),xe(this,"handleSpammyDomainCheck",(()=>{const{location:e,pin:i,surface:t,url:n}=this.props;n&&i&&(0,be.$3)({location:e,pin:i,surface:t})&&(0,be.iw)({isMounted:this.mounted,pin:i,location:e,spamCheckCallback:e=>this.setState({spamCheck:e}),href:n})})),xe(this,"handleClick",(e=>{const{auxData:i,location:t,onClick:n,pin:o,pinId:a,url:r,logContextEvent:s}=this.props;(0,be.gV)({isOffsiteUrl:!0,event:e})||(e.preventDefault(),n&&n(e),r&&(0,Pe.h)({href:r,pinId:a,pin:o,location:t,auxData:i},s))}))}componentDidMount(){this.mounted=!0,this.handleSpammyDomainCheck()}componentWillUnmount(){this.mounted=!1}componentDidUpdate(){const{spamCheck:e}=this.state;null===e&&this.handleSpammyDomainCheck()}render(){const{children:e,pin:i,url:t}=this.props;return(0,P.jsx)("a",{"aria-label":(null==i?void 0:i.domain)||"",href:t,onClick:this.handleClick,rel:"nofollow",style:{color:"inherit",textDecoration:"none",outline:"none",cursor:"pointer",display:"block"},target:null,children:e})}}const Te=(0,A.connect)((function({pins:e},{pinId:i}){return{pin:i&&e?e[i]:void 0}}),(()=>({})))((function(e){const{logContextEvent:i}=(0,C.v)();return(0,P.jsx)(Se,{...e,history:(0,v.k6)(),location:(0,v.TH)(),logContextEvent:i,match:(0,v.$B)()})}));function we(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";const{downloadedAssets:i,totalAssets:t}=window.prefetchCompletion[e];return t?(i/t*100).toFixed(3).toString():"-1"}var Ie=t(941646),Ae=t(305689);function Ee({children:e,componentType:i,contextLogData:t,pin:n,surface:o,viewParameter:a,viewType:r}){const{logContextEvent:s}=(0,C.v)(),l=(0,c.E)(),{ad_destination_url:d,carousel_data:u,id:_,link:p,tracked_link:h}=n;let m,f=d||h||p||"",g="one-tap-desktop";if(u){const{carousel_slots:e=[],id:i,index:t=0}=u;e[t]&&e[t].link&&(f=e[t].link),m={carousel_slot_id:e[t]&&e[t].id,carousel_data_id:i,carousel_slot_index:t},g+="-carousel"}return(0,P.jsx)(y.xu,{"data-test-id":"otpp",children:(0,P.jsx)(Ie.Z,{id:g,children:(0,P.jsx)(Te,{auxData:m,onClick:()=>{const e=(0,Ae.cv)();s({event_type:12,view_type:r||l.viewType,view_parameter:a||l.viewParameter,component:i||l.componentType,object_id_str:_,aux_data:{...t,grid_index:l.slotIndex,pin_id:_,prefetch_percentage_complete:we(p||"")}}),s({event_type:8948,view_type:r||l.viewType,view_parameter:a||l.viewParameter,component:i||l.componentType,object_id_str:_,aux_data:{...t,click_type:"clickthrough",closeup_navigation_type:"click",grid_index:l.slotIndex,pin_id:_,prefetch_percentage_complete:we(p||"")}}),s({event_type:13,object_id_str:_,component:i||l.componentType,view_type:3,aux_data:{closeup_navigation_type:"web_closeup",...l.contextLogData,...t}}),s({event_type:13,...e})},pinId:_,surface:o,url:f,children:e})})})}var Re=t(984405);function Ce(e){const{pin:i,surface:t}=e,{isOneTap:n,isVideo:o,isPromoted:a,isLeadPin:s}=(0,r.Z)(i),l=(0,B.t)("web_no_tap_tap"),d=!s&&(n||o&&a&&l().anyEnabled)?Ee:me.Z;return(0,P.jsx)(d,{surface:n?t:void 0,...(0,Re.Z)(e,["surface"])})}function Oe({pin:e,pinNoteText:i}){return(0,P.jsx)(Ce,{pin:e,children:(0,P.jsx)(y.xv,{lineClamp:1,overflow:"normal",size:"200",children:i})})}var ke=t(483296),je=t(81226);function Ne({value:e,valueFormat:i}){const t=(0,l.ZP)();return e||0===e?"TIME"===i?(0,je.Z)(e):(0,P.jsx)(ae.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e}):(0,P.jsx)(y.u,{idealDirection:"up",text:t._('This stat is not available yet', 'closeup.partnerAnalytics.unavailableStat', 'when data for this field has not populated yet'),children:"—"})}var De=t(578722);function Be({pin:e}){var i;const t=(0,l.ZP)(),n=(0,Y.Z)(),{isStoryPin:o,isVideo:a}=(0,r.Z)(e),s=n.isAuth&&(null===(i=e.pinner)||void 0===i?void 0:i.id)===n.id&&!e.is_repin,d=n.isAuth&&n.isPartner,c=(0,De.iL)({isOwnPin:s,isPartner:d}),u=(0,De.H1)({isOwnPin:s,isPartner:d}),_=e.created_at?new Date(e.created_at):null,p=(c||u)&&_&&_.getTime()<=De.HW.getTime(),h=c?function(e){const{public_creator_analytics:i}=e,{isStoryPin:t}=(0,r.Z)(e);return t&&i?i:null}(e):function(e){const{aggregated_pin_data:i,creator_analytics:t}=e,{creator_analytics:n}=i||{},{isStoryPin:o}=(0,r.Z)(e);return!t||!o&&n?n:t}(e),m=(0,ke.ZP)({isVideo:a,isStoryPin:o,i18n:t,showPublicPinStats:c,showPrivateFullScreenPinStats:u}),f=a||o?null==h?void 0:h.all_time_realtime:null==h?void 0:h["30d_realtime"];return(0,P.jsx)(y.kC,{alignItems:"stretch",justifyContent:"start",children:m.map((({align:e,displayText:i,field:t,iconType:n,iconSize:o=12,valueFormat:a})=>(0,P.jsxs)(y.xu,{alignItems:"center",column:4,display:"flex",justifyContent:e,children:[(0,P.jsx)(y.xu,{display:"inlineBlock",marginEnd:1,children:(0,P.jsx)(y.JO,{accessibilityLabel:i,color:"default",icon:n,size:o})}),(0,P.jsx)(y.xv,{inline:!0,size:"200",children:(0,P.jsx)(Ne,{value:"full_screen_play"===t&&p?null:null==f?void 0:f[t],valueFormat:a})})]},t)))})}function ze({currentPrice:e,originalPrice:i,pin:t,surface:n}){const o=i&&i!==e;return(0,P.jsx)(Ce,{pin:t,surface:n,children:(0,P.jsxs)(y.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[e&&(0,P.jsx)(y.xv,{color:o?"shopping":"subtle",size:"200",weight:"bold",children:e}),o&&(0,P.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1,children:(0,P.jsx)(y.xv,{color:"subtle",size:"200",weight:"bold",children:i})})]})})}var Le=t(883561),Ze=t(601508);function Me({pin:e,surface:i}){return(0,P.jsx)(Ce,{pin:e,surface:i,children:(0,P.jsx)(y.kC,{alignItems:"stretch",justifyContent:"start",children:(0,P.jsx)(y.xv,{color:"default",lineClamp:1,overflow:"normal",size:"200",weight:"normal",children:(0,Ze.Z)(e,i)})})})}var Ge=t(655747);function Ue({numberOfLines:e=2,pin:i,pinTitle:t,surface:n}){return(0,P.jsx)(y.xv,{color:"default",lineClamp:e,size:"200",weight:"bold",children:(0,P.jsx)(Ce,{pin:i,surface:n,children:t})})}var Fe=t(423217);const Ve={container:{padding:"8px 6px 16px"},productContainer:{padding:"12px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:`opacity ${Fe.X}ms ease`},visible:{opacity:1}}};function He({attributionDisplay:e,attributionType:i,board:t,feedbackData:o,feedbackType:a,hasTextContent:s,hasTitleOrSource:d,hoverTransitionState:c,pin:u,pinNoteText:_,pinTitle:p,productCurrentPrice:h,productOriginalPrice:m,reactionAlignment:g,setForcePrimary:v,showCarouselEllipsis:b,showFavoriteButton:x,showGroupBoardAvatar:S,showNativeReactions:T,showOverflowMenu:w,showPinStats:I,showSource:E,showTextContent:R,showTitle:C,showVerifiedIcon:O,showAttribution:k,surface:j,titleLines:N}){var z,Z,M,F;const V=(0,l.ZP)(),H=(0,Y.Z)(),W=(0,A.useDispatch)(),{favorited_by_me:X,favorite_user_count:$,id:q,pinner:K,reaction_counts:Q,sponsorship:ee,story_pin_data:ie}=u,{has_affiliate_products:te}=ie||{},ne=function(e,i,t){var n,o,a,s;const{board:l,link_domain:d={},promoter:c,sponsorship:u,native_creator:_}=e,{sponsor:p}=u||{},{isPromoted:h}=(0,r.Z)(e),{official_user:m}=d||{},f=h&&!!u&&(null==_?void 0:_.id)!==(null==c?void 0:c.id),g=e.pinner||{};let v="",y="",P="",b="",x="",S="",T=!1,w=!1;var I,A,E,R,C,O;if(f)v=null!==(I=null!==(A=null==_?void 0:_.image_medium_url)&&void 0!==A?A:null==_?void 0:_.image_small_url)&&void 0!==I?I:"",y=`/${null!==(E=null==_?void 0:_.username)&&void 0!==E?E:""}/`,P=null==c?void 0:c.full_name,b=null==_?void 0:_.full_name,S=`/${null!==(R=null==_?void 0:_.username)&&void 0!==R?R:""}/`,x=`/${null!==(C=null==c?void 0:c.username)&&void 0!==C?C:""}/`,T=null==_||null===(O=_.verified_identity)||void 0===O?void 0:O.verified,w=null==_?void 0:_.is_verified_merchant;else if(h&&c)v=c.image_medium_url||c.image_small_url,P=c.full_name,b=t._('Promoted by', 'indicating the username of the person who promoted the pin', 'indicating the username of the person who promoted the pin'),S=`/${c.username}/`;else if(u&&null!=p&&p.username){var k,j,N,D,B,z;v=null!==(k=null!==(j=null!==(N=null==_?void 0:_.image_large_url)&&void 0!==N?N:null==_?void 0:_.image_medium_url)&&void 0!==j?j:null==_?void 0:_.image_small_url)&&void 0!==k?k:"",y=`/${null!==(D=null==_?void 0:_.username)&&void 0!==D?D:""}/`,P=p.full_name,b=null==_?void 0:_.full_name,S=`/${null!==(B=null==_?void 0:_.username)&&void 0!==B?B:""}/`,x=`/${p.username}/`,T=null==_||null===(z=_.verified_identity)||void 0===z?void 0:z.verified,w=null==_?void 0:_.is_verified_merchant}else if(_){var L,Z,M,G,U;v=null!==(L=null!==(Z=null!==(M=_.image_large_url)&&void 0!==M?M:_.image_medium_url)&&void 0!==Z?Z:_.image_small_url)&&void 0!==L?L:"",b=_.full_name,S=`/${null!==(G=_.username)&&void 0!==G?G:""}/`,T=null===(U=_.verified_identity)||void 0===U?void 0:U.verified,w=_.is_verified_merchant}else if("show-for-claimed-content"===i){var F,V,H,W;null!=m&&m.is_primary_website_verified&&m.username&&(v=null!==(F=null!==(V=null!==(H=m.image_large_url)&&void 0!==H?H:m.image_medium_url)&&void 0!==V?V:m.image_small_url)&&void 0!==F?F:"",b=m.full_name,S=`/${m.username}/`,T=null===(W=m.verified_identity)||void 0===W?void 0:W.verified,w=m.is_verified_merchant)}else{var Y,X,$,q;v=null!==(Y=null!==(X=null!==($=g.image_large_url)&&void 0!==$?$:g.image_medium_url)&&void 0!==X?X:g.image_small_url)&&void 0!==Y?Y:"",y=`/${g.username}/`,b=g.full_name,S=l?l.url:"",T=null===(q=g.verified_identity)||void 0===q?void 0:q.verified,w=g.is_verified_merchant}return e.nftData&&(S=`/nft-assets/${e.nftData.contract.address}`),{avatarUrl:null!==(n=v)&&void 0!==n?n:"",attributionNameLink:y,attributionTitle:null!==(o=P)&&void 0!==o?o:"",name:null!==(a=b)&&void 0!==a?a:"",sponsorUrl:x,url:null!==(s=S)&&void 0!==s?s:"",verifiedIdentity:!!T,isVerifiedMerchant:!!w}}(u,i,V),{avatarUrl:oe,attributionNameLink:ae,attributionTitle:re,name:se,sponsorUrl:le,url:de,verifiedIdentity:ce,isVerifiedMerchant:ue}=ne,_e=!!u.promoter&&!u.is_downstream_promotion,pe=_e&&(null===(z=u.native_creator)||void 0===z?void 0:z.id)===(null===(Z=u.promoter)||void 0===Z?void 0:Z.id),me=(0,f.Z)(101,{view_type:3,element:27,object_id_str:q,component:u.story_pin_data_id?230:void 0,aux_data:{pin_id:q,...null!=ee&&null!==(M=ee.creator)&&void 0!==M&&M.id&&null!==(F=ee.sponsor)&&void 0!==F&&F.id?{creator_id:ee.creator.id,sponsor_id:ee.sponsor.id}:{}}}),fe=e=>W(fe(e)),Pe=(0,B.t)("web_ag_msg_pin_card_update"),be="ConversationView"===j&&Pe({dangerouslySkipActivation:!0}).anyEnabled,xe=!pe&&ee?(0,P.jsx)(L,{link:le||de,onClick:()=>(fe(q),void me()),title:(0,Le.ZP)(re,20),weight:"bold"},`${u.id}-sponsor-name-link`):null,Se="ConversationView"===j&&be?{padding:"8px"}:Ve.container;return(0,P.jsxs)(y.xu,{dangerouslySetInlineStyle:{__style:Se},children:[b&&(0,P.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:d||S||"none"!==i?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center",children:(0,P.jsx)(U.default,{pinId:q})}),I&&(0,P.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},flex:"grow",width:"100%",children:(0,P.jsx)(Be,{pin:u})}),(0,P.jsx)(y.kC,{alignItems:"stretch",justifyContent:"start",children:(0,P.jsxs)(y.xu,{flex:"grow",children:[(!!ee||te&&!_e)&&!pe&&(0,P.jsx)(y.xu,{marginBottom:1,children:(0,P.jsx)(y.xu,{flex:"grow",overflow:"hidden",children:(0,P.jsx)(Ge.Z,{hasAffiliateProducts:te,isPromoted:_e,sponsorName:xe,sponsorshipStatus:null==ee?void 0:ee.status})})}),(R&&s||x)&&(0,P.jsxs)(y.xu,{marginBottom:1,children:[(m||h)&&(0,P.jsx)(y.xu,{marginBottom:1,children:(0,P.jsx)(ze,{currentPrice:h,originalPrice:m,pin:u,surface:j})}),x?(0,P.jsxs)(y.kC,{alignItems:"start",children:[(0,P.jsx)(y.kC,{flex:"grow",children:(0,P.jsx)(Ue,{numberOfLines:N,pin:u,pinTitle:p,surface:j})}),(0,P.jsx)(y.xu,{marginStart:3,children:(0,P.jsx)(J,{board:t,favorited:!!X,favoriteCount:null!=t&&t.is_collaborative&&(0,ve.Z)({board:t,viewer:H})?null!=$?$:0:void 0,pinId:q})})]}):C&&(0,P.jsx)(Ue,{numberOfLines:N,pin:u,pinTitle:p,surface:j}),E&&(0,P.jsx)(y.xu,{marginBottom:2,children:(0,P.jsx)(Me,{pin:u,surface:j})})]}),k&&(0,P.jsxs)(y.kC,{alignItems:"center",justifyContent:"start",children:[(0,P.jsx)(y.xu,{flex:"grow",children:(()=>{const t=(0,P.jsx)(G,{attributionNameLink:ae,attributionTitle:_e&&!ee||pe?re:"",avatarUrl:oe,display:e,isPromotedByPinCreator:!!pe,isVerifiedMerchant:O&&ue,name:se,pin:u,url:de,verifiedIdentity:O&&ce});switch(i){case"none":return null;case"image-only-credit":return(0,P.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:Ve.imageOnlyAttribution["active"===c?"visible":"hidden"]},children:(0,P.jsx)(ge,{pin:u,feedbackType:a})});default:return Object.values(ne).some((e=>Boolean(e)))?t:null}})()}),w&&(0,P.jsx)(y.xu,{flex:"none",children:(0,P.jsx)(ye.default,{feedbackData:o,feedbackType:a,pin:u,pinTitle:p,setForcePrimary:v,transparentBackground:!0})})]}),T&&!!Q&&Object.keys(Q).length>0&&(0,P.jsx)(y.xu,{marginTop:"ConversationView"===j&&be?2:void 0,children:(0,P.jsx)(he,{alignment:g,pinId:q,pinner:K,reactionCounts:Q,surface:j})}),_&&(0,P.jsx)(y.xu,{marginBottom:1,children:(0,P.jsx)(Oe,{pin:u,pinNoteText:_})}),S&&!x&&(0,P.jsx)(y.xu,{alignItems:"center",display:"flex",marginTop:1,marginBottom:1,children:(0,P.jsxs)(n.Fragment,{children:[(0,P.jsx)(D,{attributionNameLink:ae||de,avatarUrl:oe,fullWidth:!1,name:se}),(0,P.jsx)(y.xu,{marginStart:2,flex:"grow",children:(0,P.jsx)(y.xv,{size:"200",children:se})})]})})]})})]})}var We=t(149230);function Ye(){const e=(0,l.ZP)();return(0,P.jsx)(y.xv,{color:"subtle",overflow:"normal",size:"200",weight:"normal",children:e._('Sold out', 'pinrep.footer.outOfStock', 'Footer text to indicate that product pin is out of stock.')})}var Xe=t(104389);function $e(){const e=(0,l.ZP)();return(0,P.jsx)(y.xv,{color:"subtle",overflow:"normal",size:"200",weight:"normal",children:e._('See price on site', 'pinrep.footer.staleProduct', 'Footer text to indicate that is a stale(untrustworthy) product pin.')})}function qe({contentType:e,hasTextContent:i,pin:t,pinTitle:o,productCurrentPrice:a,productOriginalPrice:r,productRating:s,productShipping:d,showSource:c,showVisitSiteButton:u,surface:_,titleLines:p}){var h;const{logContextEvent:m}=(0,C.v)(),f=(0,l.ZP)(),v=(0,B.t)("web_shopping_grid_metadata_ratings_shipping"),{anyEnabled:b,group:x}=v({dangerouslySkipActivation:!0}),S=(null===(h=t.rich_summary)||void 0===h?void 0:h.url)||t.link;"shopping"!==e||x.includes("pwt")||v();const T=(0,We.Z)({url:S})?"nofollow":"none";return(0,P.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:Ve.productContainer},height:"100%",children:(0,P.jsx)(y.kC,{direction:"column",flex:"grow",height:"100%",justifyContent:"between",children:i&&(0,P.jsxs)(n.Fragment,{children:[(0,P.jsxs)(y.xu,{children:[(r||a)&&(0,P.jsx)(y.xu,{marginBottom:1,children:(0,P.jsx)(ze,{currentPrice:a,originalPrice:r,pin:t,surface:_})}),(0,g.qN)(t)&&(0,P.jsx)(y.xu,{marginBottom:1,children:(0,P.jsx)(Ye,{})}),(0,g.SP)(t)&&(0,P.jsx)(y.xu,{marginBottom:1,children:(0,P.jsx)($e,{})}),(0,P.jsx)(y.xu,{marginBottom:1,children:(0,P.jsx)(Ue,{numberOfLines:p,pin:t,pinTitle:o,surface:_})}),c&&(0,P.jsx)(Me,{pin:t,surface:_}),"shopping"===e&&b&&(s||Number.isFinite(null==d?void 0:d.free_shipping_value))&&(0,P.jsx)(Xe.Z,{count:null==s?void 0:s.count,countFormat:"number",isGridView:!0,ratingValue:null==s?void 0:s.rating,shippingInfo:d})]}),u&&S?(0,P.jsx)(y.xu,{marginTop:2,children:(0,P.jsx)(y.zx,{role:"link",fullWidth:!0,href:S,rel:T,onClick:()=>{m({event_type:12,view_type:1,view_parameter:3563})},target:"blank",text:f._('Visit site', 'ShoppingList.Pin.CTA.Button.VisitSite.Text', 'Text on CTA button on ShoppingList Pin to Visit Site')})}):null]})})})}const Ke=(0,n.memo)((function({attributionDisplay:e,attributionType:i,blockClickEvents:t,board:n,contentType:a,feedbackData:r,feedbackType:s,hoverTransitionState:l,pin:d,pinNoteText:c,pinTitle:u,productCurrentPrice:_,productOriginalPrice:p,reactionAlignment:h,productRating:m,productShipping:f,setForcePrimary:g,showCarouselEllipsis:v,showFavoriteButton:b,showGroupBoardAvatar:x,showNativeReactions:S,showOverflowMenu:T,showPinStats:w,showSource:I,showTextContent:A,showTitle:E,showVerifiedIcon:R,showVisitSiteButton:C,showAttribution:O=!0,surface:k,titleLines:j}){const N=u||I,D="shopping"===a?(0,P.jsx)(qe,{contentType:a,hasTextContent:!!N,pin:d,pinTitle:u,productCurrentPrice:_,productOriginalPrice:p,productRating:m,productShipping:f,showSource:I,showVisitSiteButton:C,surface:k,titleLines:j}):(0,P.jsx)(He,{attributionDisplay:e,attributionType:i,board:n,feedbackData:r,feedbackType:s,hasTextContent:!!N,hasTitleOrSource:!!N,hoverTransitionState:l,pin:d,pinNoteText:c,pinTitle:u,productCurrentPrice:_,productOriginalPrice:p,reactionAlignment:h,setForcePrimary:g,showCarouselEllipsis:v,showFavoriteButton:b,showGroupBoardAvatar:x,showNativeReactions:S,showOverflowMenu:T,showPinStats:w,showSource:I,showTextContent:A,showTitle:E,showVerifiedIcon:R,showAttribution:O,surface:k,titleLines:j});return t?(0,P.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:D}):(0,P.jsx)(y.kC,{flex:"grow",children:(0,P.jsx)(o.Z,{fullWidth:!0,children:D})})}));var Je=t(275727),Qe=t(420632),ei=t(543398);const ii=(0,n.lazy)((()=>t.e(34979).then(t.bind(t,91540)))),ti=(0,n.lazy)((()=>Promise.all([t.e(97270),t.e(14166),t.e(18829),t.e(43473)]).then(t.bind(t,256355)))),ni=(0,n.lazy)((()=>Promise.all([t.e(97270),t.e(14166),t.e(77638),t.e(18829),t.e(22347)]).then(t.bind(t,442563)))),oi=(0,n.lazy)((()=>Promise.all([t.e(97270),t.e(69965),t.e(22538)]).then(t.bind(t,450564)))),ai=(0,n.lazy)((()=>t.e(1593).then(t.bind(t,331806))));function ri({derivedSaveButtonOptions:e,forcePrimaryContent:i,showEnabledSaveBehavior:t,onToggleFlyout:r,onToggleModal:l,pin:d}){const{id:u,savedInfo:_}=d,p=(0,n.useRef)(!!_),h=(0,A.useSelector)((({experiences:e})=>{const i=e[1000294];return 502450===(null==i?void 0:i.experience_id)?i:null})),{saveBehaviorType:m}=(0,ei.tY)(t);void 0!==m&&["classic","controlled","inline"].includes(e.type)&&(e=m);const{viewParameter:g,viewType:v}=(0,c.E)(),b=(0,f.Z)(101,{element:0,object_id_str:u});let x=null;const S={onToggleModal:r,view:v,viewParameter:g,useLegoStyles:!0};if(!e.hidePinBetterSaveDropdown&&(h||t&&["classic","controlled"].includes(e.type))&&["classic","controlled","inline"].includes(e.type)){const{renderPinSaveTooltip:n}=e;x=(0,P.jsx)(a.Z,{name:"SafeSuspense_PinRepPrimaryContent_QuickSaveButton",children:(0,P.jsx)(s.Z,{children:(0,P.jsx)(o.Z,{children:(0,P.jsx)(oi,{experience:h||void 0,forcePrimaryContent:i,pin:d,renderPinSaveTooltip:n,showEnabledSaveBehavior:t,viewParameter:g})})})})}else if("classic"===e.type||"controlled"===e.type){const{renderPinSaveTooltip:i}=e;x=(0,P.jsx)(a.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinSaveButton",children:(0,P.jsx)(s.Z,{children:(0,P.jsx)(y.xu,{"data-test-id":"pin-save-button",maxWidth:"100%",children:(0,P.jsx)(o.Z,{children:(0,P.jsx)(ti,{onClickCallback:b,onToggleModal:l,oneTapSave:"controlled"===e.type?e:void 0,pin:d,renderPinSaveTooltip:i,renderSavedStatus:()=>!!_&&(0,P.jsx)(o.Z,{children:(0,P.jsx)(Qe.Z,{isNewlySaved:!p.current,name:_.title,type:_.type,url:_.url})}),variant:"lego",viewParameter:g})})})})})}else if("inline"===e.type){const i=d,{initialSelection:t,onSave:n,renderPinSaveTooltip:c,hidePinBetterSaveDropdown:u}=e;x=(0,P.jsx)(a.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinBetterSave",children:(0,P.jsx)(s.Z,{children:(0,P.jsx)(y.xu,{"data-test-id":"better-save",children:(0,P.jsx)(o.Z,{children:(0,P.jsx)(ni,{initialSelection:t,onSave:n,onToggleFlyout:r,onToggleModal:l,pin:i,renderPinSaveTooltip:c,renderSavedStatus:({savedInfo:e})=>e&&(0,P.jsx)(o.Z,{children:(0,P.jsx)(Qe.Z,{isNewlySaved:!p.current,name:e.title,type:e.type,url:e.url,shouldUseLegoStyles:!0})}),variant:"pin",viewParameter:g,hideDropdown:u})})})})})}else"persistentOneClickSave"===e.type?x=(0,P.jsx)(a.Z,{name:"SafeSuspense_PinRepPrimaryContent_PersistentOneClickSave",children:(0,P.jsx)(s.Z,{children:(0,P.jsx)(y.xu,{"data-test-id":"persistent-one-click-save",children:(0,P.jsx)(o.Z,{children:(0,P.jsx)(ii,{...S,saveOptions:e,pin:d})})})})}):"promote"===e.type&&(x=(0,P.jsx)(y.kC,{alignItems:"stretch",justifyContent:"end",children:(0,P.jsx)(a.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinPromoteButton",children:(0,P.jsx)(s.Z,{children:(0,P.jsx)(y.xu,{"data-test-id":"pin-promote-button",children:(0,P.jsx)(o.Z,{children:(0,P.jsx)(ai,{pin:d})})})})})}));return(0,P.jsx)(a.Z,{name:"PinRepPrimaryContent",children:(0,P.jsx)(y.xu,{display:"flex",margin:3,children:x&&(0,P.jsx)(y.xu,{marginStart:"auto",flex:"grow",children:x})})})}var si=t(64446),li=t(187767),di=t(822119),ci=t(312955),ui=t(326255);const _i={__style:{boxShadow:"inset 0 0 0 2px black,  inset 0 0 0 4px white",transition:"all 300ms ease"}};function pi({isSelected:e}){const i=(0,l.ZP)();return(0,P.jsx)(y.xu,{bottom:!0,left:!0,position:"absolute",right:!0,rounding:4,top:!0,dangerouslySetInlineStyle:e?_i:{},children:(0,P.jsx)(y.xu,{position:"absolute",bottom:!0,right:!0,padding:3,children:(0,P.jsx)(y.xu,{alignItems:"center",color:e?"darkGray":"white",display:"flex",height:"24px",justifyContent:"center",rounding:2,width:"24px",dangerouslySetInlineStyle:{__style:{transition:"all 300ms ease"}},children:(0,P.jsx)(y.JO,{accessibilityLabel:i._('Pin is selected to be saved', 'SectionSuggestionPin.iconOnPin.selectedPin', 'accessibility label on an icon'),color:"inverse",icon:"check",size:12})})})})}var hi=t(124364),mi=t(802933),fi=t(674915),gi=t(559230),vi=t(428258),yi=t(172071);const Pi={},bi=e=>{yi.Z.increment("web_prefetch_via_xhr.attempt",1);const i=(0,p.Z)(e);return new Promise(((t,n)=>{if(window.navigator&&window.navigator.connection){const e=window.navigator.connection;e.saveData&&(yi.Z.increment("web_prefetch_via_xhr.saveDataOn",1),t()),/2g/.test(e.effectiveType)&&(yi.Z.increment("web_prefetch_via_xhr.poorConnection",1),t())}const o=new XMLHttpRequest;o.open("GET",e),o.onload=()=>{200===o.status?(Pi[e]&&(Pi[e].loaded=!0),yi.Z.increment("web_prefetch_via_xhr.load.success",1,{hostname:i.hostname||"unknown"}),t(o.response)):(yi.Z.increment("web_prefetch_via_xhr.load.error",1,{hostname:i.hostname||"unknown"}),n())},Pi[e]||(o.send(),Pi[e]={added:!0,xhr:o},yi.Z.increment("web_prefetch_via_xhr.xhrSent",1,{hostname:i.hostname||"unknown"}))}))},xi={},Si=(e,i)=>{const t="string"==typeof e?e:e.url;if(i&&t){const e="control"===i?"v1.pinimg.com":"v2.pinimg.com";return t.replace("v.pinimg.com",e)}return t};function Ti(e,i){return(Si("https://v.pinimg.com/videos/mc/hls/",i)||"")+`${e.slice(0,2)}/${e.slice(2,4)}/${e.slice(4,6)}/${e}`}function wi(e){const{id:i}=e;i&&xi[i]&&xi[i].length>0&&xi[i].forEach((e=>{(e=>{Pi[e]&&Pi[e].xhr&&!Pi[e].loaded&&(yi.Z.increment("web_prefetch_abort_xhr",1),Pi[e].xhr.abort(),Pi[e].aborted=!0)})(e)}))}function Ii({autoplaySettingOff:e,blockClickEvents:i,fallbackColor:t,imageFit:o,isDenseView:a,isHovering:s,isSocialSeasonalBoard:l=!1,onError:d,onLoad:_,pin:p,pinImageCrop:h,resolution:m="default",rootMargin:f,selectionState:g,showCarousel:v,showPromotedVideos:b,showUnavailablePin:x,surface:S}){const{contextLogData:T,slotIndex:w,viewParameter:I,viewType:A}=(0,c.E)(),{group:E}=(0,B.a)("web_prefetch_video_in_feed"),{id:R="",aggregated_pin_data:C,image_signature:O,story_pin_data:k}=p,{pin_tags_chips:j}=C||{},{isOneTap:N,isVideo:D,isPromoted:z,isGif:L}=(0,r.Z)(p),{cropHeight:Z,cropWidth:M}=(e=>"string"==typeof e?{cropHeight:0,cropWidth:0}:{cropHeight:e.height,cropWidth:e.width})(h);let G=null;if(x)G=(0,P.jsx)(hi.Z,{isDenseView:a,height:a?250:420,rounding:0,width:a?164:236});else if(e||!D||!b&&z||"BoardCoverSelectablePin"===S)if(v)G=(0,P.jsx)(y.xu,{"data-test-id":"pinrep-carousel",children:(0,P.jsx)(di.Z,{cropHeight:Z,cropWidth:M,onError:d,onLoad:_,highResOnly:"high-res"===m,lowResOnly:"low-res"===m,pinId:R,showCarouselBadge:!1,pin:p})});else{const e="backend"===h?function({images:e,image_crop:i}){var t;const n=e&&(null===(t=e["236x"])||void 0===t?void 0:t.height);if(i&&(0!==i.min_y||1!==i.max_y)){const{min_y:e=0,max_y:t=0}=i;return{marginTop:(e>0?-1*e*(null!=n?n:0):0)+"px",marginBottom:`${t<1?Math.round(-1*(1-t)*(null!=n?n:0)):0}px`}}return{}}(p):{};G=(0,P.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:e},"data-test-id":"pinrep-image",minHeight:55,children:(0,P.jsx)(ci.Z,{animateGif:L&&l,cropHeight:Z,cropWidth:M,fallbackColor:t,imageFit:o,highResOnly:"high-res"===m,lowResOnly:"low-res"===m,mediumResOnly:"medium-res"===m,onLoad:_,onError:d,pin:p})})}else G=(0,P.jsx)(y.xu,{"data-test-id":"pinrep-video",direction:"column",display:"flex",height:Z||void 0,justifyContent:"center",children:(0,P.jsx)(ui.Z,{cropHeight:Z,rootMargin:f,inAdsDesktopVideoExperiment:D&&b,pin:p,surface:S,onLoad:_,viewType:A,viewParameter:I,highResOnly:"high-res"===m,lowResOnly:"low-res"===m,onError:d,isExperimentalPinRep:!0})});const U=(0,P.jsx)(y.zd,{wash:!0,children:(0,P.jsx)(u.Z,{hovered:s,pin:p,slotIndex:w,viewType:1,children:G})}),F=["selected-image-only","deselected-image-only"].includes(g),V="selected-image-only"===g,H=(0,n.useRef)(!0),W=(0,n.useRef)(!1),Y=(0,n.useRef)(!1),X=(0,B.a)("web_video_quic").group;if((0,n.useEffect)((()=>{H.current||!s||N||i||W.current?s||!W.current||Y.current||(wi(k||p),Y.current=!0):k?(!function(e,i){var t;const{id:n,pages:o,pages_preview:a}=e;if(!a&&!o)return;const r=a?a[0]:null==o?void 0:o[0],s=null==r||null===(t=r.blocks)||void 0===t?void 0:t.find((e=>3===e.block_type));if(s&&s.video){const{hlsv3:e,mp4:t}=(0,vi.Z)(s.video)||{},o=t||e;if(o&&n){var l;const e=null!==(l=Si(o,i))&&void 0!==l?l:"";xi[n]=xi[n]?xi[n].concat(e):[e],bi(e)}}}(k,X),W.current=!0):(!function(e,i){const{id:t,videos:n}=e,{video_list:o}=n||{},a=(0,mi.Z)({pin:e}),{video:r}=(0,fi.Z)(a)||{},{hls:s,hlsv3:l}=r||{};if(o){const e=(0,vi.t)(o)||{},n=l||s||{};if(n.url){var d;const e=null!==(d=Si(n.url,i))&&void 0!==d?d:"";xi[t]=xi[t]?xi[t].concat(e):[e],bi(e).then((e=>{let n=[];if("string"==typeof e&&(n=e.split("\n").filter((e=>e.endsWith(".m3u8")))),n&&n[gi.VS]){const e=Ti(n[gi.VS],i);return xi[t]=xi[t].concat(e),bi(null!=e?e:"")}return null})).then((e=>{let n=[];if("string"==typeof e&&(n=e.split("\n").filter((e=>e.endsWith(".ts")))),n&&n[0]){const e=Ti(n[0],i);return xi[t]=xi[t].concat(e),bi(null!=e?e:"")}return null}))}else if(e.url){var c;const n=null!==(c=Si(e.url,i))&&void 0!==c?c:"";bi(n),xi[t]=xi[t]?xi[t].concat(n):[n]}}}(p,X),W.current=!0),H.current=!1}),[i,s,N,k,p,E,X]),i)return(0,P.jsxs)(n.Fragment,{children:[U,F&&(0,P.jsx)(pi,{isSelected:V}),j&&(0,P.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,P.jsx)(li.Z,{pin:p,enableCloseupLink:!0})})]});const{commerce_data:$,story_type:q}=T||{},K=["RelatedProductsExploreTab","RelatedProductsFeed"].includes(S);return(0,P.jsxs)(Ce,{contextLogData:{commerce_data:K?$:void 0,grid_index:w,image_signature:O,story_type:q},elementType:k?12372:35,pin:p,surface:S,children:[U,j&&(0,P.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,P.jsx)(li.Z,{pin:p,enableCloseupLink:!1})})]})}var Ai=t(995304),Ei=t(894350),Ri=t(946984);const Ci=(0,Ei.Z)((({handleSendShareFlyoutButtonClick:e})=>{const i=(0,l.ZP)(),t=(0,Ri.Z)();return(0,P.jsx)(y.zx,{fullWidth:!0,onClick:t((({event:i})=>{i&&i.stopPropagation&&i.stopPropagation(),e()})),text:i._('Send', 'Send a pin', 'Send a pin'),color:"gray",accessibilityLabel:i._('Send', 'Accessible label to send a pin', 'Accessible label to send a pin')})}));function Oi(e){return e<160?"header-only":"none"}function ki(e){const[i,t]=(0,n.useState)(e.current?Oi(e.current.clientHeight||0):"none");return function(e,i){const t=(0,n.useRef)();(0,n.useEffect)((()=>{const n=e.current;if(!n)return;const o=t.current;o&&o.width===n.offsetWidth&&o.height===n.offsetHeight||(t.current={width:n.offsetWidth||0,height:n.offsetHeight||0},i&&i(t.current))})),t.current}(e,(({height:e})=>{const n=Oi(e);n!==i&&t(n)})),i}var ji=t(767245),Ni=t(472231),Di=t(31658),Bi=t(123987),zi=t(310227);const Li="#000000",Zi="#ffffff";function Mi({selected:e=!1}){const i=(0,l.ZP)(),{isRTL:t}=(0,d.B)();return(0,P.jsx)(y.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,zIndex:new y.Ry(1),dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:e?Li:Zi,borderRadius:zi.Oc,boxShadow:e?"inset 0 0 0 3px #fff":void 0}},children:e?(0,P.jsx)(y.xu,{position:"absolute",bottom:!0,right:!t,left:t,display:"flex",alignItems:"center",justifyContent:"center",margin:3,rounding:2,height:24,width:24,color:"darkGray",children:(0,P.jsx)(y.JO,{accessibilityLabel:i._('Check icon', 'pinRepSelectionBorder.checkIcon', 'Accessibility label for check icon on selected Pin'),icon:"check",color:"inverse",size:12})}):(0,P.jsx)(y.xu,{right:!t,left:t,position:"absolute",top:!0,margin:3,children:(0,P.jsx)(y.JO,{accessibilityLabel:i._('Handle icon', 'pinRepSelectionBorder.handleIcon', 'Accessibility label for handle icon on an organizable Pin'),icon:"handle",color:"light",size:24})})})}const Gi={wrapper:{borderRadius:zi.Oc,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},promotedPinBorderTreatment:{background:"#EFEFEF",padding:4,borderRadius:20},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:zi.Dv.VISUAL},savedOverlay:{backgroundColor:zi.Dv.SAVED},legoWashOverlay:{backgroundColor:zi.Dv.LEGO_WASH}};function Ui({children:e,savedOverlayVisibility:i="none",visualOverlayVisibility:t="none",handleMouseOverPinContent:n,handleMouseLeavePinContent:o,primaryContent:a,primaryContentVisibility:r="none",secondaryContent:s,secondaryContentVisibility:l="none",accessoryContent:d,accessoryContentVisibility:c="none",actionBar:u,actionBarVisibility:_="none",seeStatsButton:p,footer:h,selectionState:m="no-selection",debugContent:f,signalDebuggerContent:g,signalDebuggerV2Content:v,signalDebuggerV2ContentVisibility:b="none",obscuredPinOverlay:x,showNoPinBorderRadius:S,showPromotedPinBorderTreatment:T,shouldUseLegoWash:w}){return(0,P.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:T?Gi.promotedPinBorderTreatment:{}},height:"100%",children:(0,P.jsxs)(y.xu,{dangerouslySetInlineStyle:{__style:S?{}:Gi.wrapper},"data-test-id":"pinWrapper",display:"flex",direction:"column",height:"100%",overflow:"hidden",position:"relative",children:[["selected","deselected"].includes(m)&&(0,P.jsx)(Mi,{selected:"selected"===m}),(0,P.jsxs)(y.xu,{dangerouslySetInlineStyle:{__style:S?{}:Gi.wrapper},overflow:"hidden",position:"relative",onFocus:n,onBlur:o,onMouseEnter:n,onMouseLeave:o,children:[e,(0,P.jsx)(Bi.Z,{visibility:t,children:(0,P.jsx)(Di.Z,{additionalStyles:w?Gi.legoWashOverlay:Gi.visualOverlay})}),(0,P.jsx)(Bi.Z,{visibility:i,children:(0,P.jsx)(Di.Z,{additionalStyles:w?Gi.legoWashOverlay:Gi.savedOverlay})}),d&&(0,P.jsx)(Bi.Z,{visibility:c,children:(0,P.jsx)(Di.Z,{children:d})}),s&&(0,P.jsx)(Bi.Z,{visibility:l,children:(0,P.jsx)(Di.Z,{children:s})}),a&&(0,P.jsx)(Bi.Z,{visibility:r,children:(0,P.jsx)(Di.Z,{children:a})}),v&&(0,P.jsx)(Bi.Z,{visibility:b,children:(0,P.jsx)(Di.Z,{children:(0,P.jsx)(y.xu,{position:"absolute",left:!0,bottom:!0,marginBottom:12,marginStart:2,children:v})})}),u&&(0,P.jsx)(Bi.Z,{visibility:_,children:(0,P.jsx)(Di.Z,{children:(0,P.jsx)(y.xu,{position:"absolute",left:!0,right:!0,bottom:!0,children:u})})}),p&&(0,P.jsx)(Di.Z,{children:(0,P.jsx)(y.xu,{position:"absolute",left:!0,bottom:!0,children:p})}),f&&(0,P.jsx)(Di.Z,{children:f}),g]}),h,x&&(0,P.jsx)(y.xu,{children:x})]})})}var Fi=t(307640);function Vi(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function Hi(...e){return e.includes("visible")?"visible":e.includes("hidden")?"hidden":"none"}const Wi=228;const Yi=(0,n.memo)((function({actionBarProps:e,blockClickEvents:i,borderStyle:t,currentlyPlayingVideo:r,disableHover:s=!1,footerProps:l,impressionsDebuggerProps:d,obscuredPinOverlayProps:u,onError:_,onLoad:p,pin:h,pinVisualProps:m,presentationProps:f,primaryContentProps:g,rounding:v,secondaryContentProps:b,selectionState:x,showFooter:S,showImpressionsDebugger:T,showObscuredPinOverlay:w,showSeeStatsButton:A,showSignalDebugger:E,showUnavailablePin:R,surface:C,visibilityOverrides:O}){var N,D;const{savedInfo:z}=h,{viewType:L}=(0,c.E)(),{showEnabledSaveBehavior:Z}=(0,ei.Yh)(Fi.ZF.includes(C)||(0,Je.Z)(C)),[M,G]=(0,n.useState)(!1),U=(0,Fe.Z)(M);let{isHovering:F,hoverTransitionState:V,handleMouseOver:H,handleMouseLeave:W}=function(){const[e,i]=(0,n.useState)(!1);return{isHovering:e,hoverTransitionState:(0,Fe.Z)(e,0,Fe.X),handleMouseOver:(0,n.useCallback)((()=>i(!0)),[i]),handleMouseLeave:(0,n.useCallback)((()=>i(!1)),[i])}}();s&&(F=!1,V="inactive");const Y=(0,Fe.Z)(!!z),X=Vi(Y),$=Vi(V),q=Vi(V),K=Vi(U),J=Vi(Y),Q=["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(C),ee="visible"!==X||Q?X:"none",ie={primaryContentVisibility:null!==(N=O.primaryContent)&&void 0!==N?N:Hi(q,K,"visible"===J?"none":J),secondaryContentVisibility:(te=Hi(q,K,J),"none"===te?"visible":"visible"===te?"none":"hidden"),actionBarVisibility:Hi(q,K),accessoryContentVisibility:"none",signalDebuggerV2ContentVisibility:"visible"};var te;const ne=e=>G(e),oe=e=>G(e),ae=e=>{G(e),e||W()};let re=null;"none"!==ie.primaryContentVisibility&&(re=(0,P.jsx)(ri,{forcePrimaryContent:ne,showEnabledSaveBehavior:Z,onToggleFlyout:oe,onToggleModal:ae,pin:h,...g}));let se=null;const le=(0,n.useRef)(!0),de=le.current;le.current=!1;const ce=function(e,i){const{carousel_data:t}=e,{index:o}=t||{},[a,r]=(0,n.useState)(!t||i),s=(0,n.useRef)(o),l=(0,n.useRef)(null);if(t){const e=s.current;s.current=o,(o!==e||i)&&(l.current&&clearTimeout(l.current),r(!0),l.current=setTimeout((()=>{r(!1),l.current=null}),4e3))}return(0,n.useEffect)((()=>()=>{l.current&&clearTimeout(l.current)}),[]),a}(h,de),ue=Vi((0,Fe.Z)(ce));ie.secondaryContentVisibility=null!==(D=O.secondaryContent)&&void 0!==D?D:function(...e){return e.includes("none")?"none":e.includes("hidden")?"hidden":"visible"}(ie.secondaryContentVisibility,ue),se=(b.allowShoppingPriceIndicator||b.shoppingLabelColor||"none"!==ie.secondaryContentVisibility)&&!r&&(0,P.jsx)(y.xu,{margin:2,children:(0,P.jsx)(si.Z,{pin:h,...b})});let _e=null;"visible"===O.accessoryContent&&(_e=(0,P.jsx)(k,{pin:h}),ie.accessoryContentVisibility=Vi(V)),m.isSocialSeasonalBoard&&(e.showShareButton=!1);let pe=null;A&&(e.showSourceLinkButton=!1,pe=(0,P.jsx)(o.Z,{children:(0,P.jsx)(Ai.Z,{pinId:h.id,surface:C})}));const he="visible"===O.actionBar?(0,P.jsx)(I,{onToggleFlyout:oe,pin:h,setForcePrimary:G,surface:C,...e}):null;let me=null;S&&(me=(0,P.jsx)(Ke,{blockClickEvents:i,hoverTransitionState:"image-only-credit"===l.attributionType?V:null,pin:h,setForcePrimary:G,surface:C,...l})),m.isSocialSeasonalBoard&&(me=(0,P.jsx)(y.xu,{"data-test-id":"social-seasonal-footer",marginTop:2,marginBottom:3,width:"100%",children:(0,P.jsx)(y.xu,{margin:"auto",width:Wi,children:(0,P.jsx)(Ci,{isFlyoutOpen:M,onFlyoutDismiss:()=>oe(!M),onToggleFlyout:()=>oe(!M),pinId:h.id,sendType:"pin",shownWithinMasonry:!0,viewType:L})})}));const fe=T&&(0,P.jsx)(ji.Z,{...d}),ge=E&&h.debug_info_html&&(0,P.jsx)(y.xu,{paddingY:1,children:(0,P.jsx)("pre",{children:h.debug_info_html})}),ve=(0,P.jsx)(j.Z,{pin:h}),ye=(0,n.useRef)();"header-only"===ki(ye)&&(ie.actionBarVisibility="none",ie.accessoryContentVisibility="none");const Pe=w?(0,P.jsx)(Ni.ZP,{pin:h,...u}):null,be="ShoppingGridShippedMetadataWithVisitButton"===C?{height:"100%"}:{},xe=(0,B.t)("web_ag_msg_pin_card_update"),Se="ConversationView"===C&&xe({dangerouslySkipActivation:!0}).anyEnabled,Te=(0,B.t)("web_creator_attr_hover_overlay"),we=S&&"default"===l.attributionType&&Fi.ZF.includes(C),Ie=!h.is_promoted&&!s&&we,Ae=Ie&&Te({dangerouslySkipActivation:!0}).anyEnabled;return Ie&&(me=(0,P.jsx)(y.xu,{onMouseEnter:Te,onFocus:Te,children:me})),(0,P.jsx)(a.Z,{name:"PinRepContainer",children:(0,P.jsx)(y.xu,{"data-test-id":"pin","data-test-pin-id":h.id,onFocus:Ae?()=>{}:H,onBlur:Ae?()=>{}:W,onMouseEnter:Ae?()=>{}:H,onMouseLeave:Ae?()=>{}:W,dangerouslySetInlineStyle:{__style:be},rounding:Se&&"ConversationView"===C?v:void 0,borderStyle:Se&&"ConversationView"===C?t:"none",overflow:Se&&"ConversationView"===C?"hidden":"visible",children:(0,P.jsx)(Ui,{visualOverlayVisibility:$,savedOverlayVisibility:ee,handleMouseOverPinContent:Ae?H:()=>{},handleMouseLeavePinContent:Ae?W:()=>{},primaryContent:re,primaryContentVisibility:ie.primaryContentVisibility,secondaryContent:se,secondaryContentVisibility:ie.secondaryContentVisibility,accessoryContent:_e,accessoryContentVisibility:ie.accessoryContentVisibility,actionBar:he,actionBarVisibility:ie.actionBarVisibility,seeStatsButton:pe,footer:me,selectionState:x,debugContent:fe,signalDebuggerV2Content:ve,signalDebuggerV2ContentVisibility:ie.signalDebuggerV2ContentVisibility,signalDebuggerContent:ge,obscuredPinOverlay:Pe,...f,children:(0,P.jsx)(y.xu,{height:"100%",ref:ye,children:(0,P.jsx)(Ii,{blockClickEvents:i,showUnavailablePin:R,isHovering:F,onError:_,onLoad:p,pin:h,surface:C,selectionState:x,...m})})})})})}))},558329:(e,i,t)=>{t.d(i,{$l:()=>c,Lb:()=>_,NE:()=>h,Nc:()=>r,SR:()=>a,bm:()=>p,dZ:()=>d,nU:()=>u,o:()=>s,pU:()=>l});var n=t(306775),o=t(623568);function a(e){var i;return(null===(i=e.closeup_attribution)||void 0===i?void 0:i.id)||null}function r(e){var i,t;return!(0,o.iR)(e.videos)&&!(0,o.hy)(e)&&0!==Object.keys((null===(i=e.aggregated_pin_data)||void 0===i||null===(t=i.creator_analytics)||void 0===t?void 0:t["30d_realtime"])||{}).length}function s(e){var i;return 0!==Object.keys((null===(i=e.creator_analytics)||void 0===i?void 0:i["30d_realtime"])||{}).length}function l(e){var i;return 0!==Object.keys((null===(i=e.public_creator_analytics)||void 0===i?void 0:i.all_time_realtime)||{}).length}function d(e){var i,t;return!(null===(i=e.creator_analytics)||void 0===i||null===(t=i["30d_realtime"])||void 0===t||!t.is_realtime)}function c(e){const i=e.aggregated_pin_data||{};return i.is_shop_the_look||i.is_stela}function u(e,i){const{native_creator:t,pinner:n,domain:o}=e;return(e.link_user_website&&e.link_user_website.official_user||e.link_domain&&e.link_domain.official_user||!!e.third_party_pin_owner||!!n&&n.domain_verified&&n.domain_url===o)&&!e.is_promoted||t||i||e.nftData}function _(e){if(!e.story_pin_data_id)return;const{story_pin_data:{metadata:i,pages:t=[]}={}}=e;return{metadata:i,detailsPage:t[1]}}const p=({viewer:e,pin:i})=>(0,n.su)(e)&&i.is_quick_promotable_by_pinner;function h({carouselInfo:e,closePanelWidth:i,isWideVideo:t,isShortImage:n,naturalWidth:o,showCloseupContentRight:a}){return!(t||!a)&&(!!n||!e&&o<i)}},890587:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(768559),o=t(927955);function a(e,i){const t=o.Z.instance;let a;if(t){const o=t.getState();if(o.pins&&e){const t=o.pins[e],r=o.location;if(null!=i&&i.shouldTrackForPrevLocation){const e=(null==t?void 0:t.tracking_params_map)||{},i=Object.keys(e).find((e=>"PinResource"!==e));t&&(a=i?e[i]:e.PinResource)}else t&&(a=(0,n.Z)(t,r))}}return a}},333070:(e,i,t)=>{t.r(i),t.d(i,{default:()=>u});var n=t(966338),o=t(834911),a=t(811403),r=t(35495),s=t(407043),l=t(930712),d=t(883119),c=t(785893);function u({carouselData:e,carouselIndex:i,componentType:t,contextLogData:u,handleCarouselSwipe:_,isCloseup:p,isEditMode:h,pinId:m,viewParameter:f,viewType:g,variant:v}){const{logContextEvent:y}=(0,s.v)(),P=(0,n.useSelector)((({pins:e})=>e[m]),n.shallowEqual),b=e||(0,o.Z)({pin:P}),x=(0,n.useDispatch)();if(!b)return null;const S=(e,i,n)=>{h||void 0===a.yR||(e.preventDefault(),e.stopPropagation(),x((0,a.yR)(String(m),n))),void 0!==_&&_(n),((e,i,t,n=0,o,a,s,l,d,c,u)=>{if(!u){const{carousel_slots:u,id:_}=a;e({event_type:108,object_id_str:t,component:d,view_type:l,view_parameter:s,event_data:{pinCarouselSlotEventData:{carouselSlotId:(null==u?void 0:u[n])&&Number(u[n].id),carouselDataId:Number(_),carouselSlotIndex:n,toCarouselSlotIndex:o}},aux_data:{...c,...(0,r.Kl)(i)||{}}})}})(y,P,m,i,n,b,f,g,t,u,h)},{carousel_slots:T=[],index:w}=b,I=void 0!==i?i:w,A="default"===v,E=A?"white":"#555",R=A?"rgba(255, 255, 255, 0.5)":"lightGray";return(0,c.jsx)(l.ZP.Consumer,{children:({viewportSize:e})=>"sm"===e?null:(0,c.jsx)(d.xu,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:p?"end":"center",paddingY:h?1:0,children:[...Array(T.length).keys()].map((e=>{var i;return(0,c.jsx)(d.xu,{paddingX:1,children:(0,c.jsx)(d.iP,{accessibilityLabel:null!==(i=T[e].title)&&void 0!==i?i:"",fullWidth:!1,onTap:({event:i})=>S(i,I,e),rounding:"circle",children:(0,c.jsx)(d.xu,{"data-test-id":"ellipsis-size",height:8,width:8,dangerouslySetInlineStyle:{__style:{backgroundColor:e===I?E:R}},rounding:"circle"})})},m+e)}))})})}},527890:(e,i,t)=>{t.d(i,{Z:()=>_});var n=t(667294),o=t(802933),a=t(102500),r=t(692627),s=t(47170),l=t(35495),d=t(623568),c=t(407043),u=t(785893);function _({children:e,hovered:i,pin:t,slotIndex:_,trafficSource:p,viewType:h}){const{logContextEvent:m}=(0,c.v)(),[f,g]=(0,n.useState)(),[v,y]=(0,n.useState)(),{id:P,tracked_link:b,link:x}=t,S=b||x||"",T=()=>{g(!0)},w=(0,s.Z)(t),I=(0,r.Z)((0,o.Z)({pin:t})),A=(0,n.useCallback)((()=>{((e,i,t)=>{const n={check_only:t,pin_id:e.id,url:i,client_tracking_params:w,aux_data:JSON.stringify({clickthrough_type:"rightClick",objectId:P,..._||{},...(0,l.Kl)(e)||{}})};return(0,a.Z)(n)})(t,S,!1).callGet({showError:!1}).then((e=>{e&&(m({event_type:12,object_id_str:P,view_type:h,view_parameter:I,aux_data:{clickthrough_type:"rightClick",..._||{},...(0,l.Kl)(t)||{}}}),m({event_type:8948,view_type:h,object_id_str:P,view_parameter:I,aux_data:{click_type:"clickthrough",closeup_navigation_type:p&&(0,d.sV)(p)?"deeplink":"click",clickthrough_type:"rightClick",..._||{},...(0,l.Kl)(t)||{}}}))}))})),E=e=>{var i;f&&(/^\/pin/.test(null===(i=e.target.activeElement.attributes.href)||void 0===i?void 0:i.value)||(A(),g(!1)),window.removeEventListener(v,E,!1))};return(0,n.useEffect)((()=>{var e,i,t,n,o,a;void 0!==(null===(e=window)||void 0===e||null===(i=e.document)||void 0===i?void 0:i.hidden)?y("visibilitychange"):void 0!==(null===(t=window)||void 0===t||null===(n=t.document)||void 0===n?void 0:n.msHidden)?y("msvisibilitychange"):void 0!==(null===(o=window)||void 0===o||null===(a=o.document)||void 0===a?void 0:a.webkitHidden)&&y("webkitvisibilitychange")}),[]),(0,n.useEffect)((()=>(f&&window&&window.addEventListener(v,E,!1),()=>window.removeEventListener(v,E))),[f,v]),(0,n.useEffect)((()=>(i&&window.addEventListener("contextmenu",T),()=>{window.removeEventListener("contextmenu",T)})),[i]),(0,u.jsx)(n.Fragment,{children:e})}},543398:(e,i,t)=>{t.d(i,{ZP:()=>l,tY:()=>c,Yh:()=>d});var n=t(966338),o=t(784590),a=t(19121);const r=0,s=1;function l(e){var i;const t=(0,a.Z)(),n=t.isAuth&&t.id===e,r=(0,o.Z)({name:"UserResource",options:{field_set_key:"quicksave",user_id:e},dangerouslyDisableFetch:!t.isAuth||n});return{showEnabledSaveBehavior:n&&t.has_quicksave_board||!(!t.isAuth||null===(i=r.data)||void 0===i||!i.has_quicksave_board)}}function d(e){var i;const t=(0,n.useDispatch)(),r=(0,a.Z)(),s=r.isAuth&&!!r.boardCount&&r.boardCount<5&&e,l=(0,o.Z)({name:"UserResource",options:{field_set_key:"save_behavior",user_id:r.isAuth&&r.id},dangerouslyDisableFetch:!s||!e});return r.isAuth&&void 0===r.save_behavior&&l&&null!==(i=l.data)&&void 0!==i&&i.id&&t({type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:l.data.save_behavior}}),{showEnabledSaveBehavior:s}}function c(e){const i=(0,a.Z)();let t;return e&&(i.save_behavior===r?t={type:"classic"}:i.save_behavior===s&&(t={type:"inline"})),{saveBehaviorType:t}}},622403:(e,i,t)=>{t.d(i,{k:()=>a,s:()=>r});var n=t(667294);const o=(0,n.createContext)(Object.freeze({})),a=o.Provider;function r(){return(0,n.useContext)(o)}},535095:(e,i,t)=>{t.d(i,{Ac:()=>a,c7:()=>o,cg:()=>n});const n=-1,o=5,a=6},838292:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(122016),o=t(111046);function a({action:e,board:i,viewer:t}){var a;return(0,n.Z)(t,i)||(0,o.Z)({board:i,viewer:t})&&!(null===(a=i.collaborator_permissions)||void 0===a||!a.includes(e))}},111046:(e,i,t)=>{function n({board:e,viewer:i}){const{collaborated_by_me:t}=e;return Boolean(i.isAuth&&t)}t.d(i,{Z:()=>n})},595342:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(122016),o=t(111046);function a({board:e,viewer:i}){return(0,n.Z)(i,e)||(0,o.Z)({board:e,viewer:i})}},104389:(e,i,t)=>{t.d(i,{Z:()=>c});var n=t(854035),o=t(869503),a=t(67828),r=t(883119),s=t(785893);const l=({count:e,countFormat:i,ratingValue:t,shippingInfo:a,highlightLabel:l})=>(0,s.jsxs)(r.xu,{display:"flex",direction:"column",marginTop:1,children:[(0,s.jsx)(n.Z,{count:e,countFormat:i,rating:t,textSize:"200"}),(0,s.jsx)(o.ZP,{customStyles:{color:l?"shopping":"subtle",size:"md"},shippingInfo:a})]}),d=({count:e,countFormat:i,ratingValue:t,shippingInfo:l,condition:d,highlightLabel:c})=>(0,s.jsxs)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{rowGap:8}},display:"flex",marginTop:2,wrap:!0,children:[(0,s.jsx)(n.Z,{count:e,countFormat:i,rating:t,textSize:"300"}),(0,s.jsx)(o.ZP,{condition:d,customStyles:{color:c?"shopping":"default",size:"lg"},shippingInfo:l,showPrevDot:(0,a.Z)({count:e,rating:t})})]});function c(e){return e.isGridView?(0,s.jsx)(l,{...e}):(0,s.jsx)(d,{...e})}},354042:(e,i,t)=>{t.d(i,{$O:()=>s,GZ:()=>d,OE:()=>c,Xv:()=>l,Z0:()=>n,_z:()=>a,fM:()=>r,qA:()=>o,zX:()=>u});const n=40,o=4,a=106,r=133,s=.1,l=10,d=246,c=197,u=236},22245:(e,i,t)=>{function n(e,i,t,n){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:i,undoAction:t,undoText:n}}}function o(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function a(e,i){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:i}}}function r(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function s(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}function l(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function d(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}t.d(i,{I1:()=>o,Ib:()=>r,NA:()=>n,ZP:()=>a,b9:()=>l,i0:()=>s,yj:()=>d})},35495:(e,i,t)=>{t.d(i,{GT:()=>m,Gy:()=>l,Kl:()=>v,QY:()=>h,RR:()=>c,SP:()=>_,Sn:()=>g,Uz:()=>p,Zs:()=>f,i8:()=>d,nn:()=>s,qN:()=>u});var n=t(227361),o=t.n(n),a=t(834911),r=t(229428);const s=e=>!!e&&(e.shopping_flags||[]).includes(2),l=e=>{var i,t;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null!==(i=null===(t=e.rich_metadata)||void 0===t?void 0:t.products)&&void 0!==i?i:[]).length>0},d=e=>{var i;return null===(i=e.aggregated_pin_data)||void 0===i?void 0:i.is_shop_the_look},c=e=>{var i,t;return null===(i=e.rich_summary)||void 0===i||null===(t=i.aggregate_rating)||void 0===t?void 0:t.rating_value},u=e=>e.is_oos_product,_=e=>e.is_stale_product,p=e=>u(e)||_(e),h=e=>{const i=o()(e,"link_domain.official_user.full_name");if(i)return i;const t=o()(e,"rich_summary.site_name");if(t)return t;if(e.domain){if("Uploaded by user"===e.domain){return((e.is_repin?e.origin_pinner:e.pinner)||{}).full_name}return e.domain}const n=o()(e,"via_pinner.full_name");return e.is_repin&&n?n:void 0},m=e=>{if(e){const i=e.shopping_flags||[];return!i.includes(10)&&e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0]&&e.product_pin_data.items[0].additional_images&&i.push(10),i}return[]};function f(e,i={}){var t,n,o,s,l,d;const c=m(e),u={...i.commerce_data};c.includes(2)&&(u.pin_is_shop_the_look=!0),c.includes(1)&&(u.is_available=!0),c.includes(5)&&(u.is_product_pin_v2=!0),c.includes(6)&&(u.is_rich_product_pin=!0),c.includes(10)&&(u.is_organic_product_carousel=!0);if((!!e.visual_objects&&(0,r.k)(e.visual_objects)||[]).some((e=>!0===e.is_stela))&&(u.pin_is_stela=!0),e.is_eligible_for_pdp||e.is_ooo_product||e.is_stale_product){e.is_oos_product?u.pin_show_pdp_oos=!0:e.is_stale_product?u.pin_show_pdp_stale=!0:u.pin_show_pdp=!0;const i=(0,a.Z)({pin:e});var _;if(i)u.image_count=null===(_=i.carousel_slots)||void 0===_?void 0:_.length,u.image_index=i.index}null!=e&&null!==(t=e.rich_summary)&&void 0!==t&&null!==(n=t.products)&&void 0!==n&&null!==(o=n[0])&&void 0!==o&&o.item_id&&(u.item_id=e.rich_summary.products[0].item_id),null!=e&&null!==(s=e.rich_summary)&&void 0!==s&&null!==(l=s.products)&&void 0!==l&&null!==(d=l[0])&&void 0!==d&&d.item_set_id&&(u.item_set_id=e.rich_summary.products[0].item_set_id);const p=e.aggregated_pin_data||{};return null!=p&&p.is_shop_the_look&&(u.pin_is_shop_the_look=!0),e.story_pin_data&&(u.story_pin_id=e.story_pin_data.id),u}function g(e){const i=JSON.stringify(e);return"{}"!==i?{commerce_data:i}:null}const v=(e,i={})=>{if(e){return g(f(e,i))}return null}},241244:(e,i,t)=>{t.d(i,{N:()=>r,Z:()=>a});var n=t(883119),o=t(785893);function a({children:e,fullWidth:i}){return(0,o.jsx)(n.xu,{"data-test-id":"pointer-events-wrapper",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:i?"100%":void 0}},children:e})}function r({children:e,enabled:i}){return i?(0,o.jsx)(a,{children:e}):e}},310227:(e,i,t)=>{t.d(i,{Dv:()=>a,Oc:()=>n,mv:()=>o});const n=16,o=4,a={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"}},306775:(e,i,t)=>{t.d(i,{Fl:()=>c,GG:()=>u,Pw:()=>p,dl:()=>l,k3:()=>h,su:()=>m,tW:()=>_});var n=t(954571),o=t(411938),a=t(826067);const r=["AU","CA","GB","IE","NZ","US","FR","DE","AT","IT","ES","NL","BE","PT","CH","NL","BE","PT","CH","SE","NO","DK","FI"],s=["BR","CY","CZ","GR","HU","LU","MT","MX","RO","SK"],l=["AU","AT","BE","BR","CA","CY","CZ","DK","FI","FR","DE","GR","HU","IE","IT","LU","MT","MX","NL","NZ","NO","PL","PT","RO","SK","ES","SE","CH","GB","US"],d=["US","CA"],c=(e,i)=>{if(s.includes(e.toUpperCase())){const{anyEnabled:e}=i.experiments.checkExperiment("advertiser_growth_qp_expansion");return e}return r.includes(e.toUpperCase())},u=e=>!!e&&d.includes(e.toUpperCase()),_=Object.freeze({NOT_ANSWERED:0,YES:1,NO:2,NOT_SURE:3}),p=({requestContext:e,history:i,pinId:t})=>{((e,i)=>{const t=(0,a.ru)("/business/convert",{next:i});e.push(t)})(i,(e=>e?`/business/ad_create?pinId=${e}`:"/business/ad_create")(t))},h=e=>{const i=e.trim().split(" ").filter((e=>!!e));return{firstName:i.length>0?i[0]:"",lastName:i.length>1?i.slice(1).join(" "):""}},m=e=>e.isAuth&&!e.isPartner&&!(0,o.Z)(null,e)&&!(0,n.Z)(null,e)},687551:(e,i,t)=>{function n(e){return!!(e&&e.carousel_data&&e.carousel_data.id)}t.d(i,{Z:()=>n})},778841:(e,i,t)=>{function n(e){const i=e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products[0]&&e.rich_metadata.products[0].additional_images;return!!(i&&i.length>0)}t.d(i,{Z:()=>n})},47170:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(768559),o=t(558068),a=t(925927);function r(e){const i=(0,a.TH)(),{previous:t}=(0,o.H)();return(0,n.Z)(e,i,t)}},81226:(e,i,t)=>{function n(e){const i=Math.round(e/1e3),t=i%60;return Math.floor(i/60)+":"+(t<10?"0":"")+t}t.d(i,{Z:()=>n})},954571:(e,i,t)=>{t.d(i,{Z:()=>n});function n(e,i){if(!(e||{}).created_at&&!(i||{}).createdAt)return!1;let t="";i&&i.createdAt?t=i.createdAt:e&&e.created_at&&(t=e.created_at);const n=new Date(t);return n.setDate(n.getDate()+28),(new Date).getTime()<n.getTime()}},411938:(e,i,t)=>{t.d(i,{Z:()=>n});function n(e,i,t=28){if(!(e||{}).resurrection_info&&!(i||{}).resurrectionInfo)return!1;let n;n=i?((i||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;const o=new Date,a=n?new Date(n):o;return a.setDate(a.getDate()+t),(new Date).getTime()<a.getTime()}},620707:(e,i,t)=>{t.d(i,{_Y:()=>n,qe:()=>r,xZ:()=>a});const n=(e,i)=>e.length===i.length&&e.every(((e,t)=>function(e,i){if("object"==typeof e&&"object"==typeof i){const t=Object.keys(e),n=Object.keys(i);return t.length===n.length&&t.every((t=>e[t]===i[t]))}return e===i}(e,i[t]))),o=(e,i)=>e.length===i.length&&e.every(((e,t)=>e===i[t])),a=(e,i=o)=>t=>{const n=[];return function(...o){const a=this,r=n.find((e=>e.context===a&&i(e.args,o)));if(r)return r.result;const s={context:a,args:o,result:t.apply(this,o)};return n.push(s),e&&n.length>e&&n.shift(),s.result}},r=a(1);a()},984405:(e,i,t)=>{function n(e={},i=[]){return Object.keys(e).reduce(((t,n)=>i.includes(n)?t:{...t,[n]:e[n]}),{})}t.d(i,{Z:()=>n})},64446:(e,i,t)=>{t.d(i,{Z:()=>p});var n=t(605028);var o=t(341732),a=t(81226),r=t(898781),s=t(217468),l=t(883119),d=t(785893);const c={borderRadius:"18px",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px",padding:"0 6px"},u={borderRadius:"18px",fontSize:"10px",fontWeight:"600",lineHeight:"24px",padding:"4px 8px"};function _({backgroundColor:e,identifier:i,size:t="sm"}){const n="pine"===e?"#0FA573":"#fff",o="sm"===t?c:u;return(0,d.jsx)(l.xu,{display:"inlineBlock",dangerouslySetInlineStyle:{__style:{...o,backgroundColor:e?n:"rgba(255, 255, 255, 0.8)",color:"pine"===e?"#fff":"#111"}},"data-test-id":"PinTypeIdentifier",children:i})}function p({pin:e,size:i="sm",allowProductCarousel:t,allowShoppingPriceIndicator:c,shoppingLabelColor:u}){const p=(0,r.ZP)(),h=(0,n.Z)(e),m=(0,s.t)("web_pdp_pur_optim"),{group:f,anyEnabled:g}=(0,s.a)("hfp_idea_pin_identifer_web");if(h.isGif)return _({identifier:"GIF",size:i});if(h.isStoryPin){const{page_count:t=0,total_video_duration:n=0}=e.story_pin_data||{},o=g?f:"default";let r="idea-pin",s=t.toString();if("default"!==o&&n)if(s=(0,a.Z)(n),o.includes("play"))r="play";else{if(!o.includes("icon_time"))return _({identifier:s,size:i});r="idea-pin"}return _({identifier:(0,d.jsxs)(l.kC,{alignItems:"center",justifyContent:"between",children:[(0,d.jsx)(l.xu,{marginEnd:1,display:"flex",alignItems:"center",children:(0,d.jsx)(l.JO,{accessibilityLabel:p._('Idea Pin', 'pin.pinTypeIdentifier.ideaPinIconAccessibilityLabel', 'identifier that shows the pin type'),inline:!0,icon:r,color:"default",size:"sm"===i?12:16})}),(0,d.jsx)(l.xv,{inline:!0,size:"100",weight:"bold",children:s})]}),size:i})}if(h.isVideo){const t=e.videos,{duration:n=0}=t&&t.video_list&&t.video_list[Object.keys(t.video_list)[0]]||{};return _({identifier:(0,a.Z)(n),size:i})}if(h.isProduct){const t=e.rich_summary&&e.rich_summary.products&&e.rich_summary.products[0]&&e.rich_summary.products[0].offer_summary;if(c){const e=t&&(t.price||t.max_price);return e?_({identifier:e,size:i}):null}if(u){const n=null==t?void 0:t.percentage_off;let o=!1;n&&(o=m().anyEnabled);const a=o&&n||function(e){var i;return((((null===(i=e.rich_summary)||void 0===i?void 0:i.products)||[])[0]||{}).label_info||{}).labels||[]}(e)[0];return a?_({identifier:a,backgroundColor:u,size:i}):null}return null}if(t){const t=e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0],n=t&&(0,o.Z)(e.images,t.additional_images,e.carousel_data&&e.carousel_data.index)||{},{carousel_slots:a=[],index:r=0}=n;return _({identifier:`${r+1}/${a.length}`,size:i})}if(h.isCarousel){const t=e.carousel_data||{},{carousel_slots:n=[],index:o=0}=t;return _({identifier:`${o+1}/${n.length}`,size:i})}return null}},55275:(e,i,t)=>{t.d(i,{P:()=>r,t:()=>s});var n=t(6637);const o=()=>{};const a={complaint:function(e,i){n.ZP.create("PinFeedbackResource",e).callUpdate().then((()=>i()))},followBoard:function(e,i){n.ZP.create("BoardFollowResource",e).callCreate().then((()=>i()))},followPinner:function(e,i){n.ZP.create("UserFollowResource",e).callCreate().then((()=>i()))},followTopic:function(e,i){n.ZP.create("InterestFollowResource",e).callCreate().then((()=>i()))},newsHubPinHide:function(e,i){n.ZP.create("NewsHubPinFeedbackResource",e).callUpdate().then((()=>i()))},promotedComplaint:function(e,i){n.ZP.create("PinFeedbackResource",e).callUpdate().then((()=>i()))},relatedPinHide:function(e,i){n.ZP.create("RelatedPinFeedbackResource",e).callUpdate().then((()=>i()))},reportPin:function(e,i){i()},showAdReasons:function(e,i){i()},unfollowBoard:function(e,i){n.ZP.create("BoardFollowResource",e).callDelete().then((()=>i()))},unfollowPinner:function(e,i){n.ZP.create("UserFollowResource",e).callDelete().then((()=>i()))},unfollowTopic:function(e,i){n.ZP.create("InterestFollowResource",e).callDelete().then((()=>i()))},unrelatedSearchPin:function(e,i){n.ZP.create("SearchPinFeedbackResource",e).callUpdate().then((()=>i()))}},r=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function s(e,i,t=o){const n=e?a[e]:null;return n?n(i,t):t()}},680046:(e,i,t)=>{t.d(i,{EF:()=>u,XZ:()=>d,ZP:()=>s,nb:()=>c,yl:()=>l});var n=t(966113),o=t(55275),a=t(760372);const r=e=>e.length>32?`${e.substring(0,32).trim()}...`:e,s=({i18n:e,interpolateNamedTemplate:i})=>({getLearnMoreUrl:e=>{switch(e){case 1:return n.Z.settings.HELP_PROMOTED_PINS_RETARGETED_PIN_URL;case 2:case 3:return n.Z.settings.HELP_PROMOTED_PINS_LOOKALIKE_TARGETING_URL;default:return n.Z.settings.HELP_PROMOTED_PINS_URL}},getRecommendationDescription:({ad_match_reason:t,board:n,feedbackType:o,makeNavigateLink:a,pinner:s,promoter:l,recommendationReason:d,sourceInterest:c})=>{switch(o){case"pfy":return e._('This Pin was inspired by your recent activity', 'Pin feedback reason', 'Pin feedback reason');case"pfyBoard":const{name:o,url:u}=d.board,_=a("navigation",u,o);return i(e._('This Pin was inspired by your board {{ boardLink }}', 'Pin feedback - inspired by your board', 'Pin feedback - inspired by your board'),{boardLink:_});case"topic":const{name:p,url_name:h}=c,m=a("topicUrl",`/topics/${h}`,p);return i(e._('This Pin was inspired by {{ formattedTopic }}', 'Pin feedback', 'Pin feedback'),{formattedTopic:m});case"followed":const f=`/${s.username}`,g=a("boardUrl",n.url,r(n.name)),v=a("pinnerUrl",f,r(s.full_name));return s.explicitly_followed_by_me?i(e._('This Pin is from {{ formattedPinner }}, a profile you follow', 'Pin feedback', 'Pin feedback'),{formattedPinner:v}):i(e._('This Pin is from {{ formattedBoard }}, a board you follow', 'Pin feedback', 'Pin feedback'),{formattedBoard:g});case"promoted":switch(t){case 1:case 2:case 3:return e._('This ad was personalized for you using info from one of our partners', 'Pin feedback', 'Pin feedback');default:const{full_name:t,username:n}=l,o=a("promotedLink",n?"/"+n+"/":"/",t);return i(e._('{{ promoterLink }} paid to have this Pin show up where\n          you\u2019d be more likely to notice it', 'Pin feedback', 'Pin feedback'),{promoterLink:o})}default:return null}},getFeedbackType({board:e,feedback:i,viewParameter:t,pin:{promoter:n,is_downstream_promotion:o,recommendation_reason:a},pinner:r}){const s=i&&i.type;return n&&!o?"promoted":s||((e=>!!e&&"FOLLOWED_INTEREST"!==e.reason&&"FOLLOWING_FEED"!==e.reason&&"RECENT_FOLLOWED_BOARD"!==e.reason&&!0)(a)?a.board?"pfyBoard":"pfy":a&&"FOLLOWED_INTEREST"===a.reason?"topic":e&&e.followed_by_me||r&&r.explicitly_followed_by_me?"followed":140===t||144===t||141===t||145===t||139===t||3173===t?"related":92===t?"default":3082===t?"newsHub":null)},getHidePinAction:({feedbackData:e,feedbackType:i,pinId:t,recommendationReasonId:n,pinFeedbackType:o,complaintReason:a,throughId:r,throughProperties:s,clientTrackingParams:l})=>{const d="promoted"===i;let c,u;switch(i){case"promoted":c="promotedComplaint";break;case"search":c="unrelatedSearchPin";break;case"related":c="relatedPinHide";break;case"newsHub":c="newsHubPinHide";break;default:c="complaint"}switch(i){case"search":u={query:e.query,pin_id:t};break;case"related":u={pin:t};break;case"newsHub":u={pinId:t,newsId:e.newsId};break;default:u={complaint_reason:a||0,pin_id:t,...n?{recommendation_reason_id:n}:{},feedback_type:o||1,promoted:d,...r?{through_id:r}:{},...s?{through_properties:s}:{},...l?{client_tracking_params:l}:{}}}return{action:c,actionOptions:u}},getUnfollowAction:({board:t,feedbackType:n,makeNavigateLink:o,pinner:r,sourceInterest:s})=>{if("topic"===n){if(s){const{id:t,name:n,url_name:r}=s,l=o("topicUrl",`/topics/${r}`,n,!0),d=i(e._('We\u2019ll show you less Pins from {{ formattedTopic }} in the future.', 'pin.contextualMenu.feedback.unfollowTopic.subtitle', 'Confirmation text after unfollowing a topic'),{formattedTopic:l});return{action:"unfollowTopic",actionOptions:{interest_id:t,interest_list:a.X},title:"",subTitle:d}}}else if("followed"===n&&t&&r){const{id:n,name:a,url:s}=t||{},{explicitly_followed_by_me:l,full_name:d,username:c}=r,u=`/${c}`,_=o("boardUrl",s,a,!0),p=o("pinnerUrl",u,d,!0);let h=l?i(e._('You\u2019ve unfollowed {{ formattedPinner }}\u2019s Board {{ formattedBoard }}. You can follow it again by searching for it.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedPinner:p,formattedBoard:_}):i(e._('You\u2019ve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:_});return h=l?i(e._('You unfollowed {{ formattedPinner }} and won\u2019t see Pins they save anymore.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedPinner:p}):i(e._('You unfollowed the board {{ formattedBoard }} and won\u2019t see Pins saved to it anymore.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:_}),{action:"unfollowBoard",actionOptions:{board_id:n},title:"",subTitle:h}}return null}});function l(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function d(e){return null==e?void 0:e.through_properties}function c(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function u(e,i,t,n,a,r,s){return()=>{const l={...e,undo:!0};let d=i;"unfollowPinner"===i?d="followPinner":"unfollowBoard"===i?d="followBoard":"unfollowTopic"===i&&(d="followTopic"),(0,o.t)(d,l),r(t),s({event_type:101,component:0,element:11181,view_type:n,view_parameter:a})}}},205202:(e,i,t)=>{function n(e,i){return e&&e[i]&&e[i].url}t.d(i,{Z:()=>n})},248975:(e,i,t)=>{function n({embedSrc:e,embedType:i,images:t,preferredResolution:n}){if(!e&&!i&&!t)return"";if("gif"===i)return e||"";const o=t;if(!o)return"";if(n){const e="474x"===n&&o["474x"]||"236x"===n&&o["236x"]||o["736x"];if(e&&e.url)return e.url}const a=Object.keys(o).map((e=>{try{const i=e.split("x")[0];return Number.isNaN(Number(i))?(o[i]=o[e],i):e}catch(i){return""}}));a.sort();const r=a.pop();return o[r]&&o[r].url||""}t.d(i,{Z:()=>n})},601508:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(605028),o=t(35495);function a(e,i){const{isProduct:t}=(0,n.Z)(e);return(t||"ShoppingGridShippedMetadataWithVisitButton"===i&&(0,o.Uz)(e))&&(0,o.QY)(e)||""}},605028:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(687551),o=t(623568);function a(e){const{access:i,attribution:t,embed:a,is_eligible_for_web_closeup:r,rich_summary:s,sponsorship:l,story_pin_data_id:d,videos:c}=e,u={isLeadPin:!1,isCarousel:!1,isGif:!1,isOneTap:!1,isOwnPin:!1,isProduct:!1,isPromoted:!1,isRecipe:!1,isSponsored:!1,isStoryPin:!1,isVideo:!1};(0,o._Q)(e)&&(u.isLeadPin=!0),(0,n.Z)(e)&&(u.isCarousel=!0),r&&(u.isOneTap=!0),(0,o.iR)(c)&&(u.isVideo=!0);const _=a||t&&t.embed||null;return _&&"gif"===_.type&&(u.isGif=!0),s&&"product"===s.type_name&&(u.isProduct=!0),s&&"recipe"===s.type_name&&(u.isRecipe=!0),e.promoter&&!e.is_downstream_promotion&&(u.isPromoted=!0),(i||[]).includes("write")&&(u.isOwnPin=!0),d&&(u.isStoryPin=!0),l&&(u.isSponsored=!0),u}},674915:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(307061),o=t(736688);const a=(0,n.Z)((e=>{const{videos:i}=e.pin,{id:t,video_list:n={}}=i||{},{V_720P:a,V_HLSV4:r,V_HLSV3_MOBILE:s}=n,l=(0,o.V)(r),d=(0,o.V)(s),c=(0,o.V)(a),u=c||l||d;return t&&u?{...e,video:{id:t,hasVideo:u,mp4:c||void 0,hls:l||void 0,hlsv3:d||void 0}}:null}))},692627:(e,i,t)=>{function n(e){if(e&&e.pin){const i=e.pin.rich_metadata;if(i)return i.products?144:i.article?141:i.recipe?145:139;if(e.pin.story_pin_data)return 157}return 140}t.d(i,{Z:()=>n})},869503:(e,i,t)=>{t.d(i,{KX:()=>u,Uv:()=>c,ZP:()=>_,gP:()=>d});var n=t(939106),o=t(898781),a=t(225643),r=t(349700),s=t(883119),l=t(785893);function d({condition:e}){const i=(0,o.ZP)();switch(e){case a.ConditionType.USED:return i._('Used', 'closeup.product.condition_used', 'product condition that is used');case a.ConditionType.REFURBISHED:return i._('Refurbished', 'closeup.product.condition_refurbished', 'product condition that is refurbished');case a.ConditionType.NEW:default:return""}}function c(){const e=(0,o.ZP)();return e._('Free shipping', 'closeup.product.shipping', 'product shipping info')}function u({freeShippingPrice:e}){const i=(0,o.ZP)();return(0,r.nk)(i._('Free shipping with {{ shippingPrice }}+', 'closeup.product.shipping', 'product shipping info'),{shippingPrice:e}).join("")}function _({customStyles:e,shippingInfo:i,showPrevDot:t,condition:o}){const{free_shipping_price:a,free_shipping_value:r}=i||{},_=t?[""]:[],{color:p="subtle",size:h="200"}=e||{},m=d({condition:o});return Number.isFinite(r)?(m&&_.push(m),0===r?_.push((0,l.jsx)(c,{})):a&&_.push((0,l.jsx)(u,{freeShippingPrice:a})),0===_.length?null:(0,l.jsx)(s.xv,{color:p,size:h,children:(0,l.jsx)(n.Z,{color:p,items:_})})):null}},681227:(e,i,t)=>{function n(e){const i=Object.keys(e);if(i.length>0){return i.sort(((i,t)=>e[t]-e[i])).slice(0,3)}return null}function o(e){const i=Object.values(e);if(i.length>0){return i.reduce(((e,i)=>e+i),0)}return 0}function a(e,i){const{videos:t,is_downstream_promotion:n,is_promoted:o,story_pin_data_id:a,board:r}=e;return!(o||n||(!t||!t.id)&&!a||i||null!=r&&r.is_collaborative&&r.collaborated_by_me)}t.d(i,{At:()=>n,J6:()=>a,Ud:()=>o})},561195:(e,i,t)=>{t.d(i,{A:()=>l,Z:()=>d});var n=t(667294),o=t(498913),a=t.n(o),r=t(883119),s=t(785893);const l=({fill:e,width:i,color:t})=>{const o="half"===e?(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(r.xu,{position:"absolute",children:(0,s.jsx)(r.JO,{accessibilityLabel:"",color:"default",icon:"star-half",size:12})}),(0,s.jsx)(r.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:12})]}):(0,s.jsx)(r.JO,{accessibilityLabel:"",color:"full"===e?"default":"subtle",icon:"star",size:12});return(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},display:"inlineBlock",children:o})};function d({max_rating:e,rating:i,width:t,color:o}){const r=[],d=function(e,i){return 5*(i=i<=e?i:e)/e}(parseFloat(e)||5,parseFloat(i)||0);if(Number.isNaN(d))return null;const c=Math.floor(d),u=d-c;return a()(c,(e=>r.push((0,s.jsx)(l,{color:o,fill:"full",width:t},e)))),u>=.75?r.push((0,s.jsx)(l,{color:o,fill:"full",width:t},r.length)):u>=.25&&r.push((0,s.jsx)(l,{color:o,fill:"half",width:t},r.length)),a()(5-r.length,(()=>r.push((0,s.jsx)(l,{color:o,fill:"empty",width:t},r.length)))),(0,s.jsx)(n.Fragment,{children:r})}},736688:(e,i,t)=>{t.d(i,{V:()=>n});const n=e=>{const{thumbnail:i,url:t,width:n,height:o,duration:a}=e||{};return i&&t&&n&&o&&{thumbnail:i,url:t,width:n,height:o,duration:a}||void 0}},124364:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(898781),o=t(883119),a=t(785893);function r({height:e,isDenseView:i,rounding:t,width:r}){const s=(0,n.ZP)();return(0,a.jsx)(o.xu,{color:"white",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",rounding:t,overflow:"hidden",width:r,height:e,"data-test-id":"unavailable-pin",children:(0,a.jsxs)(o.kC,{direction:"column",alignItems:"center",children:[(0,a.jsx)(o.xu,{paddingY:i?2:4,children:(0,a.jsx)(o.JO,{accessibilityLabel:s._('Pin not available', 'story-pin.Closeup.UnavailableIdeaPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:"default",icon:"alert",size:20})}),(0,a.jsx)(o.xv,{weight:"bold",children:s._('Unavailable', 'story-pin.Closeup.UnavailableIdeaPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),!i&&(0,a.jsx)(o.xu,{paddingY:1,children:(0,a.jsx)(o.xv,{children:s._('Removed by the creator', 'story-pin.Closeup.UnavailableIdeaPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})}},927104:(e,i,t)=>{t.d(i,{Z:()=>n});const n=(e,i)=>e.length>i?e.substr(0,i-3).trim()+"…":e},883561:(e,i,t)=>{t.d(i,{ZP:()=>n});function n(e,i=80,t="…",n=false){let o;if(!e)return"";if(e.length<=i)return e;if(" "!==e[i-1]&&" "===e[i]||n)o=e.substring(0,i);else{const t=e.lastIndexOf(" ",i);o=e.substring(0,t)}return o=o.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""),o+t}},948618:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(883119),o=t(785893);function a({ariaHidden:e=!1,color:i="darkGray",size:t}){return(0,o.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,o.jsx)(n.xv,{color:i,inline:!0,size:null!=t?t:"md",children:"·"})})}},939106:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(667294),o=t(948618),a=t(883119),r=t(785893);function s(e){return null!=e}function l({additionalPadding:e,color:i="darkGray",inline:t,items:l}){const d=e?(0,r.jsx)("span",{style:{padding:`0 ${4*e}px`},children:(0,r.jsx)(o.Z,{color:i})}):(0,r.jsx)(o.Z,{color:i}),c=l.filter(s).reduce(((e,i,t)=>[...e,0!==t?d:null,i]),[]).filter(s).map(((e,i)=>(0,r.jsx)(n.Fragment,{children:e},i)));return 0===c.length?null:t?(0,r.jsx)(a.xu,{children:c}):(0,r.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:c})}},428258:(e,i,t)=>{t.d(i,{Z:()=>a,t:()=>o});const n=()=>{var e,i;const t="undefined"!=typeof window?null===(e=window.navigator)||void 0===e||null===(i=e.connection)||void 0===i?void 0:i.effectiveType:void 0;let n,o=null===(a=window)||void 0===a||!a.devicePixelRatio||window.devicePixelRatio<=1?"1x":"2x";var a;return t?"4g"===t?n="40-80":(o="1x",n="0-1"):n="unknown",{downloadSpeedGroup:n,screenDimension:o}};function o(e){const{downloadSpeedGroup:i,screenDimension:t}=n(),o={"1x":e.V_EXP3,"2x":e.V_EXP5},a={"1x":e.V_EXP7,"2x":e.V_EXP7};return{unknown:o,"0-1":o,"1-5":{"1x":e.V_EXP4,"2x":e.V_EXP5},"5-10":{"1x":e.V_EXP5,"2x":e.V_EXP5},"10-20":{"1x":e.V_EXP6,"2x":e.V_EXP6},"20-40":a,"40-80":a,"80_or_above":a}[i][t]||e.V_720P||void 0}function a(e){const{video_list:i={}}=e,t=o(i),n=i.V_HLSV3_MOBILE||void 0;return t?{hlsv3:n,mp4:t}:{hlsv3:n}}},229428:(e,i,t)=>{function n(e){return e.filter((e=>e.is_stela))}function o(e){return e.filter((e=>!!e.label))}t.d(i,{k:()=>n,m:()=>o})},869899:(e,i,t)=>{t.r(i),t.d(i,{RoleBasedAccessControlProvider:()=>y,useRoleBasedAccessControlContext:()=>v});var n=t(667294),o=t(389643),a=t(784590),r=t(19121),s=t(217468),l=t(425288),d=t(70061);const c=e=>{const i={};for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&("object"!=typeof e[t]||null===e[t]||Array.isArray(e[t])?i[(0,d.Z)(t)]=e[t]:i[(0,d.Z)(t)]=c(e[t]));return i},u=(e,i)=>{const t=[];for(const a in e)a!==i&&t.push({id:a,...c(e[a])});const n=t.sort((({user:{businessName:e}},{user:{businessName:i}})=>e.localeCompare(i))),o=new Map;for(const a of n)o.set(a.id,a);return o};var _=t(622096);const p={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},h=(e,i)=>{switch(i.type){case"LOAD_PROFILES":return{...e,profiles:i.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:i.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:i.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:i.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:i.payload};default:return e}},m=e=>{const[i,t]=(0,n.useReducer)(h,p),o=(({dispatch:e,isEnabled:i,state:t})=>{const{orbacVisibility:o,disableProfileChanger:a,headerVisible:r}=t;return{changeProfile:(0,n.useCallback)((t=>{i&&e({type:"SET_ACTIVE_PROFILE",payload:t})}),[i,e]),toggleORBACVisibility:(0,n.useCallback)((t=>{i&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=t?t:!o})}),[i,e,o]),toggleDisableProfileChanger:(0,n.useCallback)((t=>{i&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=t?t:!a})}),[i,e,a]),toggleHeaderVisibility:(0,n.useCallback)((t=>{i&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=t?t:!r})}),[i,e,r])}})({dispatch:t,isEnabled:e,state:i}),{activeProfile:a,orbacVisibility:r}=i;(0,n.useEffect)((()=>{const e=(0,_.qn)("orbacActiveProfile",!1);e&&t({type:"SET_ACTIVE_PROFILE",payload:e})}),[]),(0,n.useEffect)((()=>{const e=(0,_.qn)("orbacVisibilty",!1);e&&t({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})}),[]),(0,n.useEffect)((()=>{(0,_.Nh)("orbacVisibility",r)}),[r]),(0,n.useEffect)((()=>{(0,_.Nh)("orbacActiveProfile",a)}),[a]);return{state:i,actions:o,receiveProfiles:(0,n.useCallback)(((e,i)=>{t({type:"LOAD_PROFILES",payload:u(e,i)})}),[t])}};var f=t(785893);const{Provider:g,useMaybeHook:v}=(0,l.Z)("RoleBasedAccessControlContext"),y=({children:e})=>{const i=(0,s.t)("web_m10n_business_access_orbac_www"),t=(0,r.Z)(),l=Boolean(t.isAuth&&t.isPartner&&i().anyEnabled),{state:d,actions:c,receiveProfiles:u}=m(l),{activeProfile:_,headerVisible:p,profiles:h=[]}=d,v=h?Array.from(h.values()):[],y=(0,o.Z)(v),P=!!(t.isAuth&&v.length>0)&&y,b=t.isAuth?t.id:"",x=t.isAuth?t.username:"",{changeProfile:S,toggleORBACVisibility:T,toggleDisableProfileChanger:w,toggleHeaderVisibility:I}=c;(0,n.useEffect)((()=>{l&&("string"!=typeof y?_||S(b):S(y))}),[y,b,l,S,_]),(0,n.useEffect)((()=>{l&&(P&&!p&&I(!0),!P&&p&&I(!1))}),[I,P,l,p,h]);const{data:A}=(0,a.Z)({name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0},dangerouslyDisableFetch:!l}),E=null==A?void 0:A.profiles;let R;t&&t.isAuth&&d.activeProfile===t.id?R={id:t.id,permissions:["OWNER"],user:{username:x,businessName:t.fullName,imgUrl:t.imageSmallUrl}}:_&&d.profiles&&(R=d.profiles.get(_)),(0,n.useEffect)((()=>{E&&u(E,b)}),[u,E,b]);const C=d.profiles?Array.from(d.profiles.values()):[];return(0,f.jsx)(g,{value:{profiles:C,headerVisible:d.headerVisible,activeProfile:R,changeProfile:S,toggleORBACVisibility:T,toggleDisableProfileChanger:w,toggleHeaderVisibility:I},children:e})}},717615:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(217468),o=t(869899);const a=()=>{const e=(0,n.t)("web_m10n_business_access_orbac_www"),i=(0,o.useRoleBasedAccessControlContext)(),{activeProfile:t}=i||{};return e().anyEnabled&&t||Object.freeze({})}},389643:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(966338),o=t(19121),a=t(217468),r=t(53987),s=t(925927);const l=e=>{var i;const t=(0,s.TH)(),l=(0,o.Z)(),{anyEnabled:d}=(0,a.t)("web_m10n_business_access_orbac_www")(),c=(0,s.$B)("/:username"),u=null==c||null===(i=c.params)||void 0===i?void 0:i.username,_=(0,s.$B)("/pin/:id"),p=(0,n.useSelector)((e=>{var i,t,n,o;return!(null==_||null===(i=_.params)||void 0===i||!i.id)&&(null==e||null===(t=e.pins)||void 0===t||null===(n=t[_.params.id])||void 0===n||null===(o=n.pinner)||void 0===o?void 0:o.id)}));if((0,r.ej)(t))return!1;if((0,r.RU)(t))return!0;if((0,r.mY)(t))return d;const h=e.concat(l.isAuth?{user:{username:l.username},id:l.id}:{}).find((e=>{const{user:i={},id:t}=e||{},{username:n}=i;return!!(n&&u||p&&t)&&(n===u||p===t)}));return!!h&&h.id}},231947:(e,i,t)=>{t.d(i,{D3:()=>d,DX:()=>s,KY:()=>c,Ms:()=>n,N1:()=>u,_P:()=>r,lJ:()=>a,nl:()=>o,q6:()=>l});const n=(e,i)=>{let t=e&&e.isAuth?e.username:"";return e&&i&&i.user&&i.user.username&&(t=i.user.username),t},o=(e,i)=>Boolean(i&&i.user&&e&&e.isAuth&&i.id!==e.id?i.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),a=(e,i)=>e&&e.isAuth&&i&&i.id&&i.id!==e.id?i.id:"",r=(e,i,t)=>{var n;return t&&t.user&&i&&i.isAuth&&t.id!==i.id?t.user.merchantId:null===(n=e.advertiser)||void 0===n?void 0:n.merchant_id},s=(e,i,t)=>t&&t.user&&e.isAuth&&t.id!==e.id?t.user.scheduledPinCount||0:e.isAuth&&i&&i.scheduled_pin_count||0,l=(e,i,t)=>!!(e&&e.isAuth&&t&&t.id&&t.id!==e.id&&t.id===i),d=(e,i,t)=>!!(l(e,i,t)||e&&e.isAuth&&i===e.id),c=(e,i,t)=>{const n=i&&i.owner&&i.owner.id||"";return d(e,n,t)};function u(e,i,t){const n=i?i.id:"";return d(e,n,t)}},542563:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(667294),o=t(407043),a=t(946595);function r(e,i){const{logContextEvent:t}=(0,o.v)(),{componentType:r,contextLogData:s,viewParameter:l,viewType:d}=(0,a.E)(),{aux_data:c,view_type:u,view_parameter:_,component:p,...h}=null!=i?i:{};return(0,n.useCallback)((()=>{t({event_type:e,view_type:u||d,view_parameter:_||l,component:p||r,...h,aux_data:{...c,...s}})}),[t,c,h,_,u,p,r,s,e,l,d])}},423217:(e,i,t)=>{t.d(i,{X:()=>o,Z:()=>a});var n=t(667294);const o=120;function a(e,i=0,t=o){const[a,r]=(0,n.useState)(e?"active":"inactive");return(0,n.useEffect)((()=>{if(!e){const e=setTimeout((()=>r("inactive")),t);return()=>{clearTimeout(e)}}if(i){const e=setTimeout((()=>r("active")),i);return()=>{clearTimeout(e)}}r("active")}),[e]),a}},946595:(e,i,t)=>{t.d(i,{B:()=>o,E:()=>a});var n=t(425288);const{Provider:o,useHook:a}=(0,n.Z)("trackingParametersContext")},605707:(e,i,t)=>{t.d(i,{Z:()=>p});var n=t(898781),o=t(287072),a=t(35495),r=t(855875),s=t(704177),l=t(883119),d=t(217468),c=t(407043),u=t(946595),_=t(785893);function p({sizing:e="default",children:i,collageChipId:t,componentType:p,contextLogData:h,elementType:m,pin:f,viewParameter:g,viewType:v}){const y=(0,n.ZP)(),{logContextEvent:P}=(0,c.v)(),b=(0,u.E)(),{group:x}=(0,d.t)("web_search_share_skin_tone_filter")({dangerouslySkipActivation:!0}),{carousel_data:S,id:T}=f;let w,I=`/pin/${t||T}/`;if(f.nftData&&(I=`/nft-assets/${f.nftData.contract.address}/${f.nftData.tokenId}/`),S){const{carousel_slots:e=[],id:i,index:t=0}=S;I=`/pin/${T}/`,w={carousel_slot_id:e[t]&&e[t].id,carousel_data_id:i,carousel_slot_index:t}}w={...w||{},...(0,a.Kl)(f,h)||{}};const A=(0,o.Z)({href:I,externalData:{auxData:w,pin:f}});return(0,_.jsx)(l.iP,{accessibilityLabel:y._('Pin page', 'pinRep.closeupLink.tapArea.accessibilityLabel', 'Accessibility label on individual pin links'),mouseCursor:"zoomIn",rounding:2,onTap:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),(()=>{if(P({event_type:101,component:p||b.componentType,element:m,object_id_str:T,view_type:v||b.viewType,view_parameter:g||b.viewParameter,aux_data:{...h,...(0,a.Kl)(f,h)||{}}}),P({event_type:8948,view_type:v||b.viewType,view_parameter:g||b.viewParameter,component:p||b.componentType,element:m,object_id_str:T,aux_data:{closeup_navigation_type:"click",...h,...(0,a.Kl)(f,h)||{}}}),x){const e=Number(s.y7.getItem(r.J)||0);s.y7.setItem(r.J,e+1)}})(),A({event:e})},fullWidth:"fullSize"===e,fullHeight:"fullSize"===e,href:I,role:"link",children:i})}},31658:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(883119),o=t(785893);function a({children:e,additionalStyles:i={}}){return(0,o.jsx)(n.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",...i}},children:e})}},767245:(e,i,t)=>{t.d(i,{F:()=>s,Z:()=>l});var n=t(704115),o=t(883119),a=t(785893);const r={impressed:{backgroundColor:"#adebad"}},s=()=>void 0!==(0,n.Z)().debug_impression_log;function l({debugImpressionState:e="paused",slotIndex:i}){return"paused"===e?null:(0,a.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:r.impressed},"data-test-id":"debug-pin-impressions",position:"absolute",top:!0,left:!0,right:!0,bottom:!0,opacity:.5,children:(0,a.jsx)(o.xu,{position:"absolute",top:!0,left:!0,padding:2,color:"darkGray",children:(0,a.jsx)(o.xv,{color:"inverse",children:(0,a.jsx)("span",{className:"deprecatedTextSizeXL",children:i})})})})}},50385:(e,i,t)=>{t.d(i,{Z:()=>v});var n=t(667294),o=t(499128),a=t(898781),r=t(883119),s=t(785893);function l(e){const i=(0,a.ZP)(),{onHide:t}=e,n=(0,s.jsx)(r.xv,{children:i._('Thank you for helping improve signal detection on Pinterest!', 'pinRep.actionBar.signalDetector.toast', 'Toast text displayed when a user submits a signal for review')});return(0,s.jsx)(o.ZP,{onHide:t,text:n})}var d=t(6637),c=t(19121),u=t(343341);const _=function({anchor:e,onDismiss:i,pinId:t,signals:o}){const _=(0,a.ZP)(),[p,h]=(0,n.useState)(0),m=(0,c.Z)(),{showOneToast:f}=(0,u.F9)();if(!m.isEmployee)return null;const g=o.map((({signal_message:e})=>({href:"#",text:null!=e?e:""}))),{background_color:v,icon_url:y,signal_id:P,signal_message:b}=o[p];return(0,s.jsx)(r.mh,{children:(0,s.jsx)(r.J2,{anchor:e,idealDirection:"right",onDismiss:i,positionRelativeToAnchor:!1,size:"lg",children:(0,s.jsxs)(r.xu,{padding:4,width:"100%",children:[o.length>1&&(0,s.jsx)(r.xu,{overflow:"scrollX",padding:1,marginBottom:4,children:(0,s.jsx)(r.mQ,{activeTabIndex:p,onChange:({event:e,activeTabIndex:i,dangerouslyDisableOnNavigation:t})=>{t(),(({activeTabIndex:e,event:i})=>{i.preventDefault(),h(e)})({activeTabIndex:i,event:e})},tabs:g})}),(0,s.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,s.jsx)(r.X6,{size:"400",children:_._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,s.jsx)(r.xu,{paddingY:3,children:(0,s.jsxs)(r.kC,{alignItems:"center",gap:2,justifyContent:"center",children:[(0,s.jsx)(r.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:y?(0,s.jsx)(r.Ee,{alt:_._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:y}):(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:v}},height:40,width:40})}),(0,s.jsx)(r.xv,{size:"200",children:b})]})}),(0,s.jsx)(r.xu,{marginBottom:3,children:(0,s.jsx)(r.xv,{size:"200",children:_._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,s.jsxs)(r.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,s.jsx)(r.zx,{fullWidth:!0,color:"red",size:"md",text:_._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review'),onClick:()=>{const e={pin_id:t,signal_id:P,user:m.id};d.ZP.create("SignalReviewRequestResource",e).callCreate(),i(),f((({hideToast:e})=>(0,s.jsx)(l,{onHide:e})))}}),(0,s.jsx)(r.zx,{fullWidth:!0,color:"gray",size:"md",text:_._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel'),onClick:i})]})]})})})};var p=t(241244),h=t(319915),m=t(947599),f=t(215292);function g({signals:e,pinId:i}){const{background_color:t,icon_url:o,signal_message:a}=e[0],[l,d]=(0,n.useState)(!1),c=(0,n.useRef)();return(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(h.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,s.jsx)(m.Z,{children:(0,s.jsx)(r.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,s.jsx)(p.Z,{children:(0,s.jsx)(f.q,{children:({hovered:e,onMouseEnter:i,onMouseLeave:n})=>(0,s.jsx)(r.iP,{onTap:()=>d((e=>!e)),rounding:"pill",onMouseEnter:i,onMouseLeave:n,children:(0,s.jsxs)(r.xu,{color:e?"darkGray":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:c,children:[(0,s.jsx)(r.xu,{display:"flex",width:24,height:24,rounding:"circle",color:"white",marginEnd:1,justifyContent:"center",alignItems:"center",children:(0,s.jsx)(r.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,s.jsx)(r.Ee,{alt:"",color:t,src:null!=o?o:"",naturalHeight:1,naturalWidth:1})})}),(0,s.jsx)(r.xv,{color:"inverse",size:"200",weight:"bold",children:a})]})})})})})})}),l&&c&&c.current&&(0,s.jsx)(_,{anchor:c.current,onDismiss:()=>d(!1),pinId:i,signals:e})]})}function v({pin:e}){if(!(0,c.Z)().isEmployee)return null;const{id:i,deb_ads:t,deb_content_quality:n,deb_inclusive_product:o,deb_shopping:a,deb_trust_and_safety:r}=e;return t?(0,s.jsx)(g,{pinId:i,signals:t}):n?(0,s.jsx)(g,{pinId:i,signals:n}):o?(0,s.jsx)(g,{pinId:i,signals:o}):a?(0,s.jsx)(g,{pinId:i,signals:a}):r?(0,s.jsx)(g,{pinId:i,signals:r}):null}},123987:(e,i,t)=>{t.d(i,{Z:()=>s});var n=t(883119),o=t(423217),a=t(785893);function r(e,i){return{hidden:{opacity:0,transition:i?`opacity ${i}ms ease`:void 0},visible:{opacity:1,transition:e?`opacity ${e}ms ease`:void 0}}}function s({children:e,fadeInDuration:i=0,fadeOutDuration:t=o.X,visibility:s}){return"none"!==s&&e?(0,a.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:r(i,t)[s]},children:e}):null}},472231:(e,i,t)=>{t.d(i,{ZP:()=>f});var n=t(667294),o=t(31658),a=t(898781),r=t(55275),s=t(310227),l=t(407043),d=t(883119),c=t(785893);const u={base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:s.Oc,filter:"blur(10px)",opacity:1}},_={base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},p={base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}},h=["followed","related","search"],m=["pfy","pfyBoard"];function f({feedbackType:e,isHomefeedTunerVariantExp:i,pin:t,hideContents:f=!1}){var g;const{logContextEvent:v}=(0,l.v)(),y=(0,a.ZP)(),[P,b]=(0,n.useState)(!1),[x,S]=(0,n.useState)(!1);(0,n.useEffect)((()=>b(!0)),[]);const T=()=>S(!0),{feedbackText:w,images:I,showFeedbackOverlay:A,undoAction:E,undoText:R}=t,C=I&&(null===(g=I["236x"])||void 0===g?void 0:g.url),{image:O,subTitle:k,title:j,unfollow:N}=null!=w?w:{},D=!h.includes(e),B=m.includes(e),z=()=>{v({event_type:101,view_type:1,view_parameter:92,element:11347})};return(0,c.jsxs)(d.xu,{color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:s.Oc}},"data-test-id":"obscured-overlay",overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[(0,c.jsxs)(d.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:s.Oc}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[C&&(0,c.jsx)(o.Z,{additionalStyles:{...u.base,...P?u.blurred:{},backgroundImage:`url("${C}")`}}),(0,c.jsx)(o.Z,{additionalStyles:{..._.base,..._.blurred}})]}),(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{...p.base,...!A&&P?p.visible:{}}},height:"100%",padding:4,position:"relative",width:"100%",children:!f&&(0,c.jsx)(d.xu,{height:"100%",children:(0,c.jsxs)(d.xu,{"data-test-id":"PinFeedbackConfirmation",display:"flex",direction:"column",height:"100%",maxWidth:216,children:[(0,c.jsx)(d.xu,{marginBottom:2,children:(0,c.jsx)(d.X6,{color:"light",size:"400",children:j})}),(0,c.jsxs)(d.xu,{display:"flex",marginBottom:1,children:[O&&(0,c.jsx)(d.xu,{marginEnd:3,children:(0,c.jsx)(d.zd,{width:O.width,height:O.height,rounding:2,wash:!0,children:(0,c.jsx)(d.Ee,{alt:k||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:O.url||""})})}),(0,c.jsx)(d.xv,{color:"light",overflow:"normal",children:k})]}),i?(0,c.jsxs)(n.Fragment,{children:[E&&(0,c.jsx)(d.xu,{children:(0,c.jsx)(d.iP,{onTap:E,children:(0,c.jsx)(d.xv,{color:"inverse",weight:"bold",overflow:"normal",children:y._('Undo', 'Text on the button to navigate to undo hiding a pin', 'Text on the button to navigate to undo hiding a pin')})})}),(0,c.jsxs)(d.xu,{marginTop:"auto",children:[!E&&!x&&N&&!B&&(0,c.jsx)(d.zx,{fullWidth:!0,color:"white",onClick:()=>(0,r.t)(N.action,N.actionOptions,T),text:y._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user')}),D&&(0,c.jsx)(d.zx,{role:"link",color:"white",fullWidth:!0,href:"/edit",onClick:z,text:y._('Tune your feed', 'Text on the button to navigate to homefeed control', 'Text on the button to navigate to homefeed control')})]})]}):(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(d.xu,{children:D&&(0,c.jsx)(d.rU,{href:"/edit",onClick:z,children:(0,c.jsx)(d.xv,{color:"inverse",weight:"bold",overflow:"normal",children:y._('Tune your home feed', 'Text on the link to navigate to homefeed control', 'Text on the link to navigate to homefeed control')})})}),(0,c.jsxs)(d.xu,{marginTop:"auto",children:[!E&&!x&&N&&!B&&(0,c.jsx)(d.zx,{fullWidth:!0,color:"white",onClick:()=>(0,r.t)(N.action,N.actionOptions,T),text:y._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user')}),E&&(0,c.jsx)(d.zx,{fullWidth:!0,color:"white",onClick:E,text:R||y._('Undo', 'Text on the button to undo hiding a pin', 'Text on the button to undo hiding a pin')})]})]})]})})})]})}},248034:(e,i,t)=>{t.d(i,{Z:()=>_});var n=t(898781),o=t(55275),a=t(883119),r=t(61877),s=t(349700),l=t(778423),d=t(407043),c=t(680046),u=t(785893);function _({anchor:e,feedbackData:i,feedbackType:t,pinId:_,onDismiss:p,onHide:h,recommendationReason:m,viewParameter:f,viewType:g}){const{logContextEvent:v}=(0,d.v)(),y=(0,n.ZP)(),P=(0,c.ZP)({i18n:y,interpolateNamedTemplate:s.nk}),b=(e,n)=>{const a=m&&m.reason&&l.ReasonToChoose[m.reason],r=m&&(0,c.yl)(m),s=m&&(0,c.XZ)(m),{action:d,actionOptions:u}=P.getHidePinAction({feedbackData:i,feedbackType:t,pinId:_,recommendationReasonId:a,throughId:r,throughProperties:s,complaintReason:e});(e=>{v({event_type:101,view_type:g,view_parameter:f,element:e,component:(0,c.nb)(t)})})(n),(0,o.t)(d,u),h()},x="promoted"===t?[{text:y._('Not relevant to me', 'homefeed.hideReasons.reason.notRelevant', 'Feedback option for Pin that is not relevant'),reason:10,elementType:1296},{text:y._('Seen Pin too many times', 'homefeed.hideReasons.reason.seenTooMany', 'Feedback option for Pin that has been seen too many times'),reason:3,elementType:11172},{text:y._('Blurry or pixelated image', 'homefeed.hideReasons.reason.lowQualityPicture', 'Feedback option for Pin with low quality picture'),reason:13,elementType:10898}]:[{text:y._('Not relevant to me', 'homefeed.hideReasons.reason.notRelevant', 'Feedback option for Pin that is not relevant'),reason:10,elementType:1296},{text:y._('Not in a language I understand', 'homefeed.hideReasons.reason.languageDontUnderstand', 'Feedback option for Pin that is in a language I dont understand'),reason:15,elementType:11178},{text:y._('Seen Pin too many times', 'homefeed.hideReasons.reason.seenTooMany', 'Feedback option for Pin that has been seen too many times'),reason:3,elementType:295},{text:y._('Blurry or pixelated image', 'homefeed.hideReasons.reason.lowQualityPicture', 'Feedback option for Pin with low quality picture'),reason:13,elementType:10898},{text:y._('Other', 'homefeed.hideReasons.reason.other', 'Feedback option for Pin hidden for other reasons'),reason:8,elementType:11179}];return(0,u.jsx)(a.Lt,{anchor:e,idealDirection:"down",onDismiss:p,zIndex:r.lI,id:"pin-action-dropdown",children:(0,u.jsx)(a.Lt.Section,{label:y._('Got a moment? Tell us why.', 'homefeed.hideReasons.title', 'Title of follow up question after negative Pin feedback'),children:x.map((({text:e,reason:i,elementType:t})=>(0,u.jsx)(a.Lt.Item,{onSelect:()=>b(i,t),option:{value:`hide-reason-${e.split(" ").join("-")}`,label:e},dataTestId:`hide-reason-${e.split(" ").join("-")}`})))})})}},420632:(e,i,t)=>{t.d(i,{Z:()=>p});var n=t(667294),o=t(294184),a=t.n(o),r=t(391254),s=t(149230),l=t(927104),d=t(898781),c=t(883119),u=t(785893);class _ extends n.Component{constructor(...e){var i,t,n;super(...e),n={showBoardName:!1},(t="state")in(i=this)?Object.defineProperty(i,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[t]=n}componentDidMount(){this.timer=setTimeout((()=>{this.setState({showBoardName:!0})}),950)}componentWillUnmount(){clearTimeout(this.timer)}render(){const{showBoardName:e}=this.state,{isDenseView:i,isNewlySaved:t,name:o,shouldUseLegoStyles:d,type:_,url:p}=this.props;if(d&&i)return null;const h="boardless"===_?this.props.i18n._('Saved to Profile', 'Saved.render.title', 'Text indicating saved to your profile'):o;let m,f;if(!t||e||d){const e=d?(0,u.jsx)(c.xv,{color:"inverse",size:"300",weight:"bold",children:h.length<=20?h:(0,l.Z)(h,20)}):(0,u.jsx)(c.X6,{color:"inverse",size:"400",lineClamp:1,children:h}),i=(0,s.Z)({url:p})?"nofollow":"none";m=p?(0,u.jsx)(c.rU,{rel:i,href:p,children:e}):e}else m=(0,u.jsx)(c.xv,{color:"inverse",children:(0,u.jsx)("span",{className:"deprecatedTextSizeXL",children:this.props.i18n._('Saved!', 'Indication that a pin has been saved', 'Indication that a pin has been saved')})});return t&&(f=e?"board":"saved"),(0,u.jsxs)(n.Fragment,{children:[(0,u.jsx)(r.Z,{unsafeCSS:"\n.SavedAnimation {\n  &.saved {\n    animation: SavedAnimation--down-then-right 1s cubic-bezier(0, 0.33, 0.33, 1.1);\n  }\n\n  &.board {\n    animation: SavedAnimation--to-right 0.12s cubic-bezier(0, 0.33, 0.33, 1.1);\n  }\n}\n\n@keyframes SavedAnimation--down-then-right {\n  0% {\n    opacity: 0;\n    transform: translateY(-24px);\n  }\n\n  33% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  80% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  100% {\n    opacity: 0;\n    transform: translateX(24px);\n  }\n}\n\n@keyframes SavedAnimation--to-right {\n  from {\n    opacity: 0;\n    transform: translateX(-16px);\n  }\n\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n"}),(0,u.jsx)("div",{"data-test-id":"savedInfo",className:!d&&a()("SavedAnimation",f),children:m})]})}}const p=function(e){const i=(0,d.ZP)();return(0,u.jsx)(_,{...e,i18n:i})}},995304:(e,i,t)=>{t.d(i,{Y:()=>s,Z:()=>u});var n=t(898781),o=t(407043),a=t(883119),r=t(785893);const s=["CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid"],l={component:210,view_type:4,view_parameter:3106},d={view_type:5,view_parameter:3069},c={component:13668,view_type:4,view_parameter:3106};function u({pinId:e,surface:i}){const{logContextEvent:t}=(0,o.v)(),u=(0,n.ZP)(),_=()=>{const e=s.includes(i)?c:"BaseBoardPinGrid"===i?d:"UserProfilePinGrid"===i?l:{};t({event_type:101,element:10573,...e})},p=u._('See more stats', 'pinRep.actionBar.seeStatsButton', 'Button that will re-direct user to detailed stats page');return(0,r.jsx)(a.xu,{"data-test-id":"see-stats-button",paddingX:3,paddingY:3,children:s.includes(i)?(0,r.jsx)(a.zx,{role:"link",accessibilityLabel:u._('Go to pin stats details page', 'pinRep.actionBar.seeStatsButton', 'This button will take the user to their detailed pin stats page for the pin'),color:"semiTransparentWhite",fullWidth:!0,href:`/pin/${e}/analytics`,onClick:_,size:"sm",text:(h=p,h.length>14?`${h.substring(0,12).trim()}...`:h)}):(0,r.jsx)(a.hU,{role:"link",accessibilityLabel:u._('Go to pin stats details page', 'pinRep.actionBar.seeStatsButton', 'This icon button will take the user to their detailed pin stats page for the pin'),bgColor:"white",href:`/pin/${e}/analytics`,icon:"ads-stats",iconColor:"darkGray",onClick:_,size:"sm"})});var h}},987097:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(680046),o=t(349700);function a({feedbackOptions:e,pin:i,viewParameter:t},a){const{board:r,pinner:s}=i,{getFeedbackType:l}=(0,n.ZP)({i18n:a,interpolateNamedTemplate:o.nk});return l({board:r,feedback:e,pin:i,pinner:s,viewParameter:t})}},468593:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(867820);async function o({filename:e,imgSrc:i,imageDownloadSuccessCallback:t,category:o,isUnauth:a,pinId:r,viewParameter:s,viewType:l},d){return"undefined"==typeof window?Promise.resolve():((0,n.My)(`web.${a?"unauth":"auth"}.download.click.${o||"no_category"}`),d({event_type:82,object_id_str:r,view_type:l||3,view_parameter:s||139}),i&&document?fetch(i,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then((e=>e.blob())).then((i=>{var n,o;const a=document.createElement("a");a.href=window.URL.createObjectURL(i),a.setAttribute("download",e&&e.replace(".","_")),a.style.display="none",null===(n=document.body)||void 0===n||n.appendChild(a),a.click(),null===(o=document.body)||void 0===o||o.removeChild(a),null==t||t()})).catch((()=>{throw new Error("Download image error")})):Promise.resolve())}},854035:(e,i,t)=>{t.d(i,{Z:()=>h});var n=t(67828),o=t(941646),a=t(898781),r=t(892819),s=t(349700),l=t(780280),d=t(561195),c=t(883119),u=t(785893);const _=({rating:e,textSize:i,type:t})=>{if("single"===t){const t=parseFloat(e);return Number.isNaN(t)?null:(0,u.jsxs)(c.kC,{alignItems:"center",children:[(0,u.jsx)(d.A,{fill:"full",width:12}),(0,u.jsx)(c.xv,{size:i,children:t.toFixed(1)})]})}return(0,u.jsx)(d.Z,{rating:e,width:12})},p=({bracket:e,count:i,countFormat:t,countType:n,marginStart:d,textSize:_,underline:p})=>{const{locale:h}=(0,l.B)(),m=(0,a.ZP)(),f=(0,r.Z)();if(null==i)return null;let g=f(h,i,{shortform:!0,shortform_maximum_fraction_digits:1});if("text"===t){const e="review"===n?m.ngettext('{{ count }} review', '{{ count }} reviews', i, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total reviews count'):m.ngettext('{{ count }} rating', '{{ count }} ratings', i, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total ratings count');g=(0,s.nk)(e,{count:i}).join("")}return e&&(g=`(${g})`),(0,u.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:p?"1px solid gray":"none"}},marginStart:d,children:(0,u.jsx)(c.xv,{color:p?"subtle":"default",size:_,underline:p,children:(0,u.jsx)(o.Z,{id:"ratings-count-text",display:"inlineBlock",children:g})})})};function h({count:e,countFormat:i,countType:t,rating:o,textSize:a,underline:r}){return(0,n.Z)({count:e,rating:o})?(0,u.jsxs)(c.kC,{alignItems:"center",justifyContent:"start",children:[(0,u.jsx)(_,{rating:o,textSize:a,type:"multiple"}),(0,u.jsx)(p,{count:e,countFormat:i,countType:t,textSize:a,underline:r})]}):null}},67828:(e,i,t)=>{function n({count:e,rating:i}){return Boolean(i&&"None"!==i&&Number.isFinite(e))}t.d(i,{Z:()=>n})},930712:(e,i,t)=>{t.d(i,{Nb:()=>s,Of:()=>l,YO:()=>r,ZP:()=>u,x4:()=>c});var n=t(667294),o=t(620707),a=t(766383);const r=({showPdp:e,isLargerPane:i,showCloseupContentRight:t})=>e&&i?t?a.Uj:a.zT:1,s=(0,o.qe)((({paneWidth:e,pdpCarouselSlotToPaneRatio:i,showCloseupContentRight:t,showPdp:n,updateCloseupBodyContainerHeight:o,viewportSize:a,maxWidth:r})=>({paneWidth:e,pdpCarouselSlotToPaneRatio:i,showCloseupContentRight:t,showPdp:n,updateCloseupBodyContainerHeight:o,viewportSize:a,maxWidth:r}))),l={showCloseupContentRight:!0,showPdp:!1,updateCloseupBodyContainerHeight:()=>{},viewportSize:"lg",paneWidth:{pdp:a.CI,regular:a.Gg},pdpCarouselSlotToPaneRatio:1,maxWidth:{pdp:a.Kn,regular:a.u6}},d=(0,n.createContext)(l);function c(){const e=(0,n.useContext)(d);if(!e)throw new Error("useCloseupContext must be used within CloseupContextProvider");return e}const u=d},766383:(e,i,t)=>{t.d(i,{CI:()=>a,Ch:()=>s,Gb:()=>l,Gg:()=>n,Ie:()=>_,JV:()=>h,KP:()=>p,Kn:()=>r,Uj:()=>d,bx:()=>m,d2:()=>u,g9:()=>f,iB:()=>g,u6:()=>o,zT:()=>c});const n=508,o=2*n,a=488,r=992,s=672,l=1176,d=.6,c=.84,u=40,_=72,p=740,h=60,m=912,f=32,g={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},855875:(e,i,t)=>{t.d(i,{J:()=>n,o:()=>o});const n="numSearchCloseups",o=20},86551:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(784590),o=t(925927);function a(){const{username:e}=(0,o.UO)();return(0,n.Z)({name:"UserResource",options:{username:e,field_set_key:"profile"}})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/3793-facf10c8578877f9.mjs.map